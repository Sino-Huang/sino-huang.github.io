<!DOCTYPE html>
<html dir="auto" lang="en">
<head>
<meta content="Hugo 0.139.2" name="generator"/><script data-no-instant="" defer="" src="/livereload.js?mindelay=10&amp;v=2&amp;port=1313&amp;path=livereload"></script><meta charset="utf-8"/>
<meta content="IE=edge" http-equiv="X-UA-Compatible"/>
<meta content="width=device-width, initial-scale=1, shrink-to-fit=no" name="viewport"/>
<meta content="index, follow" name="robots"/>
<title>Sukai Huang</title>
<meta content="Sukai's academic blog - storing weekly reports and research paper reviews" name="description"/>
<meta content="Sukai Huang" name="author"/>
<link href="http://localhost:1313/" rel="canonical"/>
<meta content="IFgzhtDTVCjONQMwQsBfuf0ZyHdzUR5WFYzbWsf2Gf8" name="google-site-verification"/>
<link as="style" crossorigin="anonymous" href="/assets/css/stylesheet.d6fcd20a4fb86efa4dfac8ec95da60244cc8871042183da1ef28e3a762ad79c8.css" integrity="sha256-1vzSCk+4bvpN+sjsldpgJEzIhxBCGD2h7yjjp2Ktecg=" rel="preload stylesheet"/>
<link href="http://localhost:1313/favicon.ico" rel="icon"/>
<link href="http://localhost:1313/favicon-16x16.png" rel="icon" sizes="16x16" type="image/png"/>
<link href="http://localhost:1313/favicon-32x32.png" rel="icon" sizes="32x32" type="image/png"/>
<link href="http://localhost:1313/apple-touch-icon.png" rel="apple-touch-icon"/>
<link href="http://localhost:1313/safari-pinned-tab.svg" rel="mask-icon"/>
<meta content="#2e2e33" name="theme-color"/>
<meta content="#2e2e33" name="msapplication-TileColor"/>
<link href="http://localhost:1313/index.xml" rel="alternate" type="application/rss+xml"/>
<link href="http://localhost:1313/index.json" rel="alternate" type="application/json"/>
<link href="http://localhost:1313/" hreflang="en" rel="alternate"/>
<noscript>
<style>
        #theme-toggle,
        .top-link {
            display: none;
        }

    </style>
<style>
        @media (prefers-color-scheme: dark) {
            :root {
                --theme: rgb(29, 30, 32);
                --entry: rgb(46, 46, 51);
                --primary: rgb(218, 218, 219);
                --secondary: rgb(155, 156, 157);
                --tertiary: rgb(65, 66, 68);
                --content: rgb(196, 196, 197);
                --code-block-bg: rgb(46, 46, 51);
                --code-bg: rgb(55, 56, 62);
                --border: rgb(51, 51, 51);
            }

            .list {
                background: var(--theme);
            }

            .list:not(.dark)::-webkit-scrollbar-track {
                background: 0 0;
            }

            .list:not(.dark)::-webkit-scrollbar-thumb {
                border-color: var(--theme);
            }
        }

    </style>
</noscript>
<script async="" src="https://www.googletagmanager.com/gtag/js?id=G-TTFTV1EWH5"></script>
<script>
        var doNotTrack = false;
        if ( false ) {
          var dnt = (navigator.doNotTrack || window.doNotTrack || navigator.msDoNotTrack);
          var doNotTrack = (dnt == "1" || dnt == "yes");
        }
        if (!doNotTrack) {
          window.dataLayer = window.dataLayer || [];
          function gtag(){dataLayer.push(arguments);}
          gtag('js', new Date());
          gtag('config', 'G-TTFTV1EWH5');
        }
      </script><meta content="http://localhost:1313/" property="og:url"/>
<meta content="Sukai Huang" property="og:site_name"/>
<meta content="Sukai Huang" property="og:title"/>
<meta content="Sukai's academic blog - storing weekly reports and research paper reviews" property="og:description"/>
<meta content="en" property="og:locale"/>
<meta content="website" property="og:type"/>
<meta content="http://localhost:1313/cute_avatar.jpg" property="og:image"/>
<meta content="summary_large_image" name="twitter:card"/>
<meta content="http://localhost:1313/cute_avatar.jpg" name="twitter:image"/>
<meta content="Sukai Huang" name="twitter:title"/>
<meta content="Sukai's academic blog - storing weekly reports and research paper reviews" name="twitter:description"/>
<script type="application/ld+json">
{
  "@context": "https://schema.org",
  "@type": "Organization",
  "name": "Sukai Huang",
  "url": "http://localhost:1313/",
  "description": "Sukai's academic blog - storing weekly reports and research paper reviews",
  "logo": "http://localhost:1313/favicon.ico",
  "sameAs": [
      "https://github.com/Sino-Huang", "mailto:sukaih@student.unimelb.edu.au", "https://au.linkedin.com/in/sukai-huang-683368169"
  ]
}
</script>
</head>
<body class="list" id="top">
<script>
    if (localStorage.getItem("pref-theme") === "dark") {
        document.body.classList.add('dark');
    } else if (localStorage.getItem("pref-theme") === "light") {
        document.body.classList.remove('dark')
    } else if (window.matchMedia('(prefers-color-scheme: dark)').matches) {
        document.body.classList.add('dark');
    }

</script>
<header class="header">
<nav class="nav">
<div class="logo">
<a accesskey="h" href="http://localhost:1313/" title="Sukai Huang (Alt + H)">Sukai Huang</a>
<div class="logo-switches">
<button accesskey="t" id="theme-toggle" title="(Alt + T)">
<svg fill="none" height="18" id="moon" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" viewbox="0 0 24 24" width="24" xmlns="http://www.w3.org/2000/svg">
<path d="M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z"></path>
</svg>
<svg fill="none" height="18" id="sun" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" viewbox="0 0 24 24" width="24" xmlns="http://www.w3.org/2000/svg">
<circle cx="12" cy="12" r="5"></circle>
<line x1="12" x2="12" y1="1" y2="3"></line>
<line x1="12" x2="12" y1="21" y2="23"></line>
<line x1="4.22" x2="5.64" y1="4.22" y2="5.64"></line>
<line x1="18.36" x2="19.78" y1="18.36" y2="19.78"></line>
<line x1="1" x2="3" y1="12" y2="12"></line>
<line x1="21" x2="23" y1="12" y2="12"></line>
<line x1="4.22" x2="5.64" y1="19.78" y2="18.36"></line>
<line x1="18.36" x2="19.78" y1="5.64" y2="4.22"></line>
</svg>
</button>
</div>
</div>
<ul id="menu">
<li>
<a href="http://localhost:1313/biography/" title="Biography">
<span>Biography</span>
</a>
</li>
<li>
<a href="http://localhost:1313/archives" title="Archive">
<span>Archive</span>
</a>
</li>
<li>
<a href="http://localhost:1313/tags/" title="Tags">
<span>Tags</span>
</a>
</li>
<li>
<a href="http://localhost:1313/categories/" title="Categories">
<span>Categories</span>
</a>
</li>
<li>
<a accesskey="/" href="http://localhost:1313/search/" title="Search (Alt + /)">
<span>Search</span>
</a>
</li>
</ul>
</nav>
</header>
<main class="main">
<article class="post-entry">
<figure class="entry-cover"><img alt="" loading="lazy" src="http://localhost:1313/posts/baptiste-roziere-code-llama-open-foundation-model-for-code-2023/image-assets/cover.png"/>
</figure>
<header class="entry-header">
<h2 class="entry-hint-parent">Baptiste Roziere Code Llama Open Foundation Model for Code 2023
    </h2>
</header>
<div class="entry-content">
<p>[TOC]
Title: Code Llama Open Foundation Model for Code Author: Baptiste Roziere et. al. META AI Publish Year: 2023 Review Date: Mon, Oct 16, 2023 url: https://scontent.fmel13-1.fna.fbcdn.net/v/t39.2365-6/369856151_1754812304950972_1159666448927483931_n.pdf?_nc_cat=107&amp;ccb=1-7&amp;_nc_sid=3c67a6&amp;_nc_ohc=Hcg6QsYJx1wAX_okEZO&amp;_nc_ht=scontent.fmel13-1.fna&amp;oh=00_AfAYtfHJfYeomAQWiMUTRo96iP8d4sZrlIfD_KAeYlYaDQ&amp;oe=6531E8CF Summary of paper Motivation CODE Llama, support for large input contexts, and zero-shot instruction following ability for programming tasks. Contribution CODE llama reaches SOTA performance among open models on several code benchmarks Some key terms By training on domain-specific datasets, LLM have proved effective more broadly on applications that require advanced natural language understanding.
...</p>
</div>
<footer class="entry-footer"><span title="2023-10-16 02:58:20 +1100 AEDT">October 16, 2023</span> · 2 min · 284 words · Sukai Huang</footer>
<a aria-label="post link to Baptiste Roziere Code Llama Open Foundation Model for Code 2023" class="entry-link" href="http://localhost:1313/posts/baptiste-roziere-code-llama-open-foundation-model-for-code-2023/"></a>
</article>
<article class="post-entry">
<figure class="entry-cover"><img alt="" loading="lazy" src="http://localhost:1313/posts/haotian-liu-improved-baselines-with-visual-instruction-tuning-2023/image-assets/cover.png"/>
</figure>
<header class="entry-header">
<h2 class="entry-hint-parent">Haotian Liu Improved Baselines With Visual Instruction Tuning 2023
    </h2>
</header>
<div class="entry-content">
<p>[TOC]
Title: Improved Baselines With Visual Instruction Tuning Author: Haotian Liu et. al. Publish Year: Oct 5 2023 Review Date: Sun, Oct 8, 2023 url: https://arxiv.org/pdf/2310.03744.pdf Summary of paper Motivation we show that the fully-connected vision-language cross-modal connector in LLaVA is surprisingly powerful and data-efficient. Contribution with simple modifications to LLaVA, namely, using CLIP-ViT with an MLP projection and adding academic-task-oriented VQA data with simple response formatting prompts, they establish stronger baseline. Some key terms Improvement one: MLP cross modal connector
...</p>
</div>
<footer class="entry-footer"><span title="2023-10-08 10:37:37 +1100 AEDT">October 8, 2023</span> · 2 min · 240 words · Sukai Huang</footer>
<a aria-label="post link to Haotian Liu Improved Baselines With Visual Instruction Tuning 2023" class="entry-link" href="http://localhost:1313/posts/haotian-liu-improved-baselines-with-visual-instruction-tuning-2023/"></a>
</article>
<article class="post-entry">
<figure class="entry-cover"><img alt="" loading="lazy" src="http://localhost:1313/posts/christabel-wayllace-goal-recognition-design-with-stochastic-agent-action-outcomes-2016/image-assets/cover.png"/>
</figure>
<header class="entry-header">
<h2 class="entry-hint-parent">Christabel Wayllace Goal Recognition Design With Stochastic Agent Action Outcomes 2016
    </h2>
</header>
<div class="entry-content">
<p>[TOC]
Title: Christabel Wayllace Goal Recognition Design With Stochastic Agent Action Outcomes 2016 Author: Christable Wayllace et. al. Publish Year: IJCAI 2016 Review Date: Fri, Oct 6, 2023 url: https://www.ijcai.org/Proceedings/16/Papers/464.pdf Summary of paper Motivation in this paper, they generalize the Goal Recognition Design (GRD) problem to Stochastic GRD (S-GRD) problems, which handle stochastic action outcomes. Some key terms Plan and goal recognition problem
it aims to identify the actual plan or goal of an agent given its behaviour. Goal Recognition Design
...</p>
</div>
<footer class="entry-footer"><span title="2023-10-06 18:16:28 +1100 AEDT">October 6, 2023</span> · 1 min · 191 words · Sukai Huang</footer>
<a aria-label="post link to Christabel Wayllace Goal Recognition Design With Stochastic Agent Action Outcomes 2016" class="entry-link" href="http://localhost:1313/posts/christabel-wayllace-goal-recognition-design-with-stochastic-agent-action-outcomes-2016/"></a>
</article>
<article class="post-entry">
<figure class="entry-cover"><img alt="" loading="lazy" src="http://localhost:1313/posts/alba-gragera-pddl-domain-repair-fixing-domains-with-incomplete-action-effects-2023/image-assets/cover.png"/>
</figure>
<header class="entry-header">
<h2 class="entry-hint-parent">Alba Gragera Pddl Domain Repair Fixing Domains With Incomplete Action Effects 2023
    </h2>
</header>
<div class="entry-content">
<p>[TOC]
Title: PDDL Domain Repair Fixing Domains With Incomplete Action Effects Author: Alba Gragera et. al. Publish Year: ICAPS 2023 Review Date: Wed, Sep 20, 2023 url: https://icaps23.icaps-conference.org/demos/papers/2791_paper.pdf Summary of paper Contribution in this paper, they present a tool to repair planning models where the effects of some actions are incomplete. The received input is compiled to a new extended planning task, in which actions are permitted to insert possible missing effects. The solution is a plan that achieves the goals of the original problem while also alerting users of the modification made. ...</p>
</div>
<footer class="entry-footer"><span title="2023-09-20 23:17:51 +1000 AEST">September 20, 2023</span> · 1 min · 153 words · Sukai Huang</footer>
<a aria-label="post link to Alba Gragera Pddl Domain Repair Fixing Domains With Incomplete Action Effects 2023" class="entry-link" href="http://localhost:1313/posts/alba-gragera-pddl-domain-repair-fixing-domains-with-incomplete-action-effects-2023/"></a>
</article>
<article class="post-entry">
<figure class="entry-cover"><img alt="" loading="lazy" src="http://localhost:1313/posts/alba-gragera-exploring-the-limitations-of-using-llms-to-fix-planning-tasks-2023/image-assets/cover.png"/>
</figure>
<header class="entry-header">
<h2 class="entry-hint-parent">Alba Gragera Exploring the Limitations of Using LLMs to Fix Planning Tasks 2023
    </h2>
</header>
<div class="entry-content">
<p>[TOC]
Title: Exploring the Limitations of Using LLMs to Fix Planning Tasks Author: Alba Gragera et. al. Publish Year: icaps23.icaps-conference Review Date: Wed, Sep 20, 2023 url: https://icaps23.icaps-conference.org/program/workshops/keps/KEPS-23_paper_3645.pdf Summary of paper Motivation In this work, the authors present ongoing efforts on exploring the limitations of LLMs in task requiring reasoning and planning competences: that of assisting humans in the process of fixing planning tasks. Contribution investigate how good LLMs are at repairing planning tasks when the prompt is given in PDDL and when it is given in natural language. also they tested on incomplete initial state and also incomplete domains which lack a necessary action effect to achieve the goals. in all cases, LLMs are used as stand-alone, and they directly assess the correctness of the solutions it generates. conclusion: they demonstrate that although LLMs can in principle facilitate iterative refinement of PDDL models through user interaction, their limited reasoning abilities render them insufficient for identifying meaningful changes to ill-defined planning models that result into solvable planning tasks.
...</p>
</div>
<footer class="entry-footer"><span title="2023-09-20 20:22:32 +1000 AEST">September 20, 2023</span> · 2 min · 403 words · Sukai Huang</footer>
<a aria-label="post link to Alba Gragera Exploring the Limitations of Using LLMs to Fix Planning Tasks 2023" class="entry-link" href="http://localhost:1313/posts/alba-gragera-exploring-the-limitations-of-using-llms-to-fix-planning-tasks-2023/"></a>
</article>
<article class="post-entry">
<figure class="entry-cover"><img alt="" loading="lazy" src="http://localhost:1313/posts/tathagata-chakraborti-plan-explanations-as-model-reconciliation-2017/image-assets/cover.png"/>
</figure>
<header class="entry-header">
<h2 class="entry-hint-parent">Tathagata Chakraborti Plan Explanations as Model Reconciliation 2017
    </h2>
</header>
<div class="entry-content">
<p>[TOC]
Title: Plan Explanations as Model Reconciliation: Moving beyond explanation as soliloquy Author: Tathagata Chakraborti Publish Year: 30 May 2017 Review Date: Tue, Sep 19, 2023 url: https://arxiv.org/pdf/1701.08317.pdf Summary of paper Motivation Past work on plan explanations primarily involved AI system explaining the correctness of its plan and t he rationale for its decision in terms of its own model. Such soliloquy is inadequate (think about the case where GPT4 cannot find errors in PDDL domain file due to over confidence) in this work, the author said that due to the domain and task model difference between human and AI system, the soliloquy is inadequate. Contribution They show how explanation can be seen as a “model reconciliation problem” (MRP), where AI system in effect suggests changes to the human’s model, so as to make its plan be optimal with respected to that changed human model. In other words, they need to update human’s mindset about the domain and task model such that the plan generated from the AI system fits human’s expectation. Some key terms Definition of a classical planning problem
...</p>
</div>
<footer class="entry-footer"><span title="2023-09-19 22:04:06 +1000 AEST">September 19, 2023</span> · 3 min · 630 words · Sukai Huang</footer>
<a aria-label="post link to Tathagata Chakraborti Plan Explanations as Model Reconciliation 2017" class="entry-link" href="http://localhost:1313/posts/tathagata-chakraborti-plan-explanations-as-model-reconciliation-2017/"></a>
</article>
<article class="post-entry">
<figure class="entry-cover"><img alt="" loading="lazy" src="http://localhost:1313/posts/vishal-pallagani-plansformer-tool-demonstrating-generation-of-symbolic-plans-using-transformers-2023/image-assets/cover.png"/>
</figure>
<header class="entry-header">
<h2 class="entry-hint-parent">Vishal Pallagani Plansformer Tool Demonstrating Generation of Symbolic Plans Using Transformers 2023
    </h2>
</header>
<div class="entry-content">
<p>[TOC]
Title: Plansformer – Tool Demonstrating Generation of Symbolic Plans Using Transformers Author: Vishal Pallagani et. al. Publish Year: IJCAI-23 Review Date: Sat, Sep 16, 2023 url: https://www.ijcai.org/proceedings/2023/0839.pdf Summary of paper Motivation making a bridge between planning in LLM and planning in traditional automatic planner Design of Plansformer in the evaluation phase, planner testing helps to validate the plan (both the syntax validation and plan optimality validation), model testing helps to force a linguistic consistency (in this case it supervise the semantics). Function of this Plansformer The Plansformer operates as an AI planner designed for plan generation, not for creating PDDLs from natural language descriptions. ...</p>
</div>
<footer class="entry-footer"><span title="2023-09-16 00:46:56 +1000 AEST">September 16, 2023</span> · 1 min · 105 words · Sukai Huang</footer>
<a aria-label="post link to Vishal Pallagani Plansformer Tool Demonstrating Generation of Symbolic Plans Using Transformers 2023" class="entry-link" href="http://localhost:1313/posts/vishal-pallagani-plansformer-tool-demonstrating-generation-of-symbolic-plans-using-transformers-2023/"></a>
</article>
<article class="post-entry">
<figure class="entry-cover"><img alt="" loading="lazy" src="http://localhost:1313/posts/junnan_li-blip2-boostrapping-language-image-pretraining-2023/image-assets/cover.png"/>
</figure>
<header class="entry-header">
<h2 class="entry-hint-parent">Junnan_li Blip2 Boostrapping Language Image Pretraining 2023
    </h2>
</header>
<div class="entry-content">
<p>[TOC]
Title: BLIP2 - Boostrapping Language Image Pretraining 2023 Author: Junnan Li et. al. Publish Year: 15 Jun 2023 Review Date: Mon, Aug 28, 2023 url: https://arxiv.org/pdf/2301.12597.pdf Summary of paper The paper titled “BLIP-2” proposes a new and efficient pre-training strategy for vision-and-language models. The cost of training such models has been increasingly prohibitive due to the large scale of the models. BLIP-2 aims to address this issue by leveraging off-the-shelf, pre-trained image encoders and large language models (LLMs) that are kept frozen during the pre-training process.
...</p>
</div>
<footer class="entry-footer"><span title="2023-08-28 18:48:08 +1000 AEST">August 28, 2023</span> · 2 min · 327 words · Sukai Huang</footer>
<a aria-label="post link to Junnan_li Blip2 Boostrapping Language Image Pretraining 2023" class="entry-link" href="http://localhost:1313/posts/junnan_li-blip2-boostrapping-language-image-pretraining-2023/"></a>
</article>
<article class="post-entry">
<figure class="entry-cover"><img alt="" loading="lazy" src="http://localhost:1313/posts/peng_gao-llama-adapter-v2-2023/image-assets/cover.png"/>
</figure>
<header class="entry-header">
<h2 class="entry-hint-parent">Peng_gao Llama Adapter V2 2023
    </h2>
</header>
<div class="entry-content">
<p>[TOC]
Title: Llama Adapter V2 Author: Peng Gao et. al. Publish Year: 28 Apr 2023 Review Date: Mon, Aug 28, 2023 url: https://arxiv.org/pdf/2304.15010.pdf Summary of paper The paper presents LLaMA-Adapter V2, an enhanced version of the original LLaMA-Adapter designed for multi-modal reasoning and instruction following. The paper aims to address the limitations of the original LLaMA-Adapter, which could not generalize well to open-ended visual instructions and lagged behind GPT-4 in performance.
...</p>
</div>
<footer class="entry-footer"><span title="2023-08-28 18:47:05 +1000 AEST">August 28, 2023</span> · 2 min · 246 words · Sukai Huang</footer>
<a aria-label="post link to Peng_gao Llama Adapter V2 2023" class="entry-link" href="http://localhost:1313/posts/peng_gao-llama-adapter-v2-2023/"></a>
</article>
<article class="post-entry">
<figure class="entry-cover"><img alt="" loading="lazy" src="http://localhost:1313/posts/langchain-use-cases-2023/image-assets/cover.png"/>
</figure>
<header class="entry-header">
<h2 class="entry-hint-parent">Langchain Use Cases 2023
    </h2>
</header>
<div class="entry-content">
<p>[TOC]
Title: Langchain Use Cases 2023 Review Date: Sat, Aug 26, 2023 url: https://python.langchain.com/docs/get_started/quickstart Langchain quickstart The core building block of LangChain applications is the LLMChain. This combines three things: LLM: The language model is the core reasoning engine here. In order to work with LangChain, you need to understand the different types of language models and how to work with them. Prompt Templates: This provides instructions to the language model. This controls what the language model outputs, so understanding how to construct prompts and different prompting strategies is crucial. Output Parsers: These translate the raw response from the LLM to a more workable format, making it easy to use the output downstream. PromptTemplate modify prompt format easily Chains: Combine LLMs and prompts in multi-step workflows 1 2 from langchain.chains import LLMChain chain = LLMChain(llm=llm, prompt=prompt) Agents: dynamically call chains based on user input 1 2 3 from langchain.agents import load_tools from langchain.agents import initialize_agent from langchain.llms import OpenAI we can connect Google AI with ChatGPT
...</p>
</div>
<footer class="entry-footer"><span title="2023-08-26 17:36:47 +1000 AEST">August 26, 2023</span> · 4 min · 700 words · Sukai Huang</footer>
<a aria-label="post link to Langchain Use Cases 2023" class="entry-link" href="http://localhost:1313/programming-notes/langchain-use-cases-2023/"></a>
</article>
<article class="post-entry">
<figure class="entry-cover"><img alt="" loading="lazy" src="http://localhost:1313/posts/rodrigo-reward-machines-exploiting-reward-function-structure-in-rl-2022/image-assets/cover.png"/>
</figure>
<header class="entry-header">
<h2 class="entry-hint-parent">Rodrigo Reward Machines Exploiting Reward Function Structure in Rl 2022
    </h2>
</header>
<div class="entry-content">
<p>[TOC]
Title: Reward Machines: Exploiting Reward Function Structure in Reinforcement Learning 2022 Author: Rodrigo Toro Icarte et. al. Publish Year: 2022 AI Access Foundation Review Date: Thu, Aug 17, 2023 url: https://arxiv.org/abs/2010.03950 Summary of paper Motivation in most RL applications, however, users have to program the reward function and hence, there is the opportunity to make the reward function visible and RL agent can exploit the function’s internal structure to learn optimal policies in a more sample efficient manner. Contribution different methodology of RL for Reward Machines compared to their previous studies, this work tested a collection of RL methods that can exploit a reward machine’s internal structure to improve sample efficiency Some key terms counterfactual experiences for reward machines (CRM)
...</p>
</div>
<footer class="entry-footer"><span title="2023-08-17 16:32:09 +1000 AEST">August 17, 2023</span> · 2 min · 321 words · Sukai Huang</footer>
<a aria-label="post link to Rodrigo Reward Machines Exploiting Reward Function Structure in Rl 2022" class="entry-link" href="http://localhost:1313/posts/rodrigo-reward-machines-exploiting-reward-function-structure-in-rl-2022/"></a>
</article>
<article class="post-entry">
<figure class="entry-cover"><img alt="" loading="lazy" src="http://localhost:1313/posts/rodrigo-using-reward-machines-for-high-level-task-specification-and-decomposition-in-rl-2018/image-assets/cover.png"/>
</figure>
<header class="entry-header">
<h2 class="entry-hint-parent">Rodrigo Using Reward Machines for High Level Task Specification and Decomposition in Rl 2018
    </h2>
</header>
<div class="entry-content">
<p>[TOC]
Title: Reward Machines for High Level Task Specification and Decomposition in Reinforcement Learning Author: Rodrigo Toro Icarte et. al. Publish Year: PMLR 2018 Review Date: Thu, Aug 17, 2023 url: http://proceedings.mlr.press/v80/icarte18a/icarte18a.pdf Summary of paper Motivation proposing a reward machine while exposing reward function structure to the learner and supporting decomposition. Contribution in contrast to hierarchical RL methods which might converge to suboptimal policies. We prove that QRM is guaranteed to converge to an optimal policy in the tabular case. Some key terms intro
...</p>
</div>
<footer class="entry-footer"><span title="2023-08-17 11:13:24 +1000 AEST">August 17, 2023</span> · 2 min · 360 words · Sukai Huang</footer>
<a aria-label="post link to Rodrigo Using Reward Machines for High Level Task Specification and Decomposition in Rl 2018" class="entry-link" href="http://localhost:1313/posts/rodrigo-using-reward-machines-for-high-level-task-specification-and-decomposition-in-rl-2018/"></a>
</article>
<article class="post-entry">
<figure class="entry-cover"><img alt="" loading="lazy" src="http://localhost:1313/posts/pytorch-multiprocessing-2023/image-assets/cover.png"/>
</figure>
<header class="entry-header">
<h2 class="entry-hint-parent">Pytorch Multiprocessing 2023
    </h2>
</header>
<div class="entry-content">
<p>[TOC]
Title: Pytorch Multiprocessing 2023 Review Date: Tue, Jul 18, 2023 url: https://pytorch.org/docs/stable/multiprocessing.html Best Practices for Pytorch multiprocessing 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 from torch import multiprocessing from torch.multiprocessing import Pipe multiprocessing.set_start_method('spawn') # for torch multiprocessing, spawn method is required model = Model() model.share_memory() p_conn, c_conn = Pipe() tensor_1 = torch.tensor([1]) tensor_1.share_memory() # need to pass tensor to shared memeory p_conn.send(tensor_1) # the receiver end tensor_1_sub = c_conn.receive() # after using it del tensor_1_sub # safe del </p>
</div>
<footer class="entry-footer"><span title="2023-07-18 16:48:13 +1000 AEST">July 18, 2023</span> · 1 min · 93 words · Sukai Huang</footer>
<a aria-label="post link to Pytorch Multiprocessing 2023" class="entry-link" href="http://localhost:1313/programming-notes/pytorch-multiprocessing-2023/"></a>
</article>
<article class="post-entry">
<figure class="entry-cover"><img alt="" loading="lazy" src="http://localhost:1313/posts/remote-server-and-tmux-2023/image-assets/cover.png"/>
</figure>
<header class="entry-header">
<h2 class="entry-hint-parent">Remote Server, Tmux and Joshuto 2023
    </h2>
</header>
<div class="entry-content">
<p>[TOC]
Title: Remote Server and Tmux 2023 Review Date: Sun, Jul 16, 2023 url: https://tmuxcheatsheet.com/ url: https://explainshell.com When you want to have a long-run Jupyter notebook when you ssh to a remote server and have a long-run program (e.g., using jupyter notebook for training deep learning models ) you need to detach your job to background otherwise the program will stop when you exit ssh. you need tmux some useful tmux shortcut 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 tmux new -s &lt;yourname&gt; # start a new session with the name &lt;yourname&gt; tmux kill-session -t &lt;sname&gt; # kill session with name &lt;sname&gt; tmux ls # list all sessions tmux a # attach the last session tmux a -t &lt;sname&gt; # attach the session with name &lt;sname&gt; # in the tmux ctrl + b + $ # rename the session name ctrl + b + d # detach session ctrl + b + w # list windows ctrl + b + c # new window ctrl + b + % # split a new pane # panes ctrl + b + [ # scroll mode ctrl + b + arrow # switch pane focus ctrl + b + x # close pane tqdm to file for long-run jobs when you want to have a long-run jupyter and you cannot directly use tqdm to monitor. Every time you want to reconnect to the jupyter kernel, the tqdm progress bar will be cleared. to solve this, you need to store it to file also for long-run jobs, always save your data regularly 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 # example from tqdm import tqdm a_dict = dict() save_interval = 20000 a_dict_count = len(a_dict) with open('preprocess_log.txt', 'w') as log_f: for key, val in tqdm(b_dict.items(), file=log_f, mininterval=3): # temp save if len(a_dict) % save_interval == 0: with open('a_dict.pkl', 'wb') as save_f: pickle.dump(a_dict, save_f) if key not in a_dict: a_dict[key] = extract_info(val) assert len(a_dict) == a_dict_count + 1 a_dict_count = len(a_dict) Joshuto - advanced terminal file manager you want a good file manager when you are in cli, joshuto is what you want. https://github.com/kamiyaa/joshuto
...</p>
</div>
<footer class="entry-footer"><span title="2023-07-16 18:45:57 +1000 AEST">July 16, 2023</span> · 3 min · 557 words · Sukai Huang</footer>
<a aria-label="post link to Remote Server, Tmux and Joshuto 2023" class="entry-link" href="http://localhost:1313/programming-notes/remote-server-and-tmux-2023/"></a>
</article>
<article class="post-entry">
<header class="entry-header">
<h2 class="entry-hint-parent">Weekly-Reports
    </h2>
</header>
<div class="entry-content">
<p></p>
</div>
<footer class="entry-footer"><span title="2023-07-05 00:35:22 +1000 AEST">July 5, 2023</span> · 0 min · Sukai Huang</footer>
<a aria-label="post link to Weekly-Reports" class="entry-link" href="http://localhost:1313/weekly-report/"></a>
</article>
<article class="post-entry">
<figure class="entry-cover"><img alt="" loading="lazy" src="http://localhost:1313/posts/william_berrios-towards-language-models-that-can-see-2023/image-assets/cover.png"/>
</figure>
<header class="entry-header">
<h2 class="entry-hint-parent">William_berrios Towards Language Models That Can See 2023
    </h2>
</header>
<div class="entry-content">
<p>[TOC]
Title: Towards Language Models That Can See: Computer Vision Through the LENS of Natural Language Author: William Berrios et. al. Publish Year: 28 Jun 2023 Review Date: Mon, Jul 3, 2023 url: https://arxiv.org/pdf/2306.16410.pdf Summary of paper Contribution proposing LENS, a modular approach that addresses computer vision tasks by harnessing the few-shot, in-context learning abilities of language models through natural language descriptions of visual inputs LENS enables any off-the-shelf LLM to have visual capabilities without auxiliary training or data LENS framework ...</p>
</div>
<footer class="entry-footer"><span title="2023-07-03 19:33:22 +1000 AEST">July 3, 2023</span> · 1 min · 152 words · Sukai Huang</footer>
<a aria-label="post link to William_berrios Towards Language Models That Can See 2023" class="entry-link" href="http://localhost:1313/posts/william_berrios-towards-language-models-that-can-see-2023/"></a>
</article>
<article class="post-entry">
<figure class="entry-cover"><img alt="" loading="lazy" src="http://localhost:1313/posts/lionel_wong-from-word-models-to-world-models-2023/image-assets/cover.png"/>
</figure>
<header class="entry-header">
<h2 class="entry-hint-parent">Lionel_wong From Word Models to World Models 2023
    </h2>
</header>
<div class="entry-content">
<p>[TOC]
Title: From Word Models to World Models: Translating from Natural Language to the Probabilistic Language of Thought Author: Lionel Wong et. al. Publish Year: 23 Jun 2023 Review Date: Sun, Jul 2, 2023 url: https://arxiv.org/pdf/2306.12672.pdf Summary of paper Motivation leverage a theory of linguistic meaning to build machines that think in more human-like ways.
we frame linguistic meaning as a context-sensitive mapping from NL into a probabilistic language of thought (PLoT) – a general-purpose symbolic substrate for probabilistic, generative world modelling
...</p>
</div>
<footer class="entry-footer"><span title="2023-07-02 21:24:50 +1000 AEST">July 2, 2023</span> · 3 min · 460 words · Sukai Huang</footer>
<a aria-label="post link to Lionel_wong From Word Models to World Models 2023" class="entry-link" href="http://localhost:1313/posts/lionel_wong-from-word-models-to-world-models-2023/"></a>
</article>
<article class="post-entry">
<figure class="entry-cover"><img alt="" loading="lazy" src="http://localhost:1313/posts/jianning_wang-boosting-language-models-reasoning-with-chain-of-knowledge-prompting-2023/image-assets/cover.png"/>
</figure>
<header class="entry-header">
<h2 class="entry-hint-parent">Jianning_wang Boosting Language Models Reasoning With Chain of Knowledge Prompting 2023
    </h2>
</header>
<div class="entry-content">
<p>[TOC]
Title: Boosting Language Models Reasoning With Chain of Knowledge Prompting Author: Jianing Wang et. al. Publish Year: 10 Jun 2023 Review Date: Sun, Jul 2, 2023 url: https://arxiv.org/pdf/2306.06427.pdf Summary of paper Motivation “Chain of Thought (CoT)” aims at designing a simple prompt like “Let’s think step by step” however, the generated rationales often come with mistakes, making unfactual and unfaithful reasoning chain To mitigate this brittleness, we propose a novel Chain-of-Knowlege knowledge evidence in the form of structure triple Contribution Benefiting from CoK, we additional introduce a F^2 -Verification method to estimate the reliable response, the wrong evidence can be indicated to prompt the LLM to rethink. Some key terms ...</p>
</div>
<footer class="entry-footer"><span title="2023-07-02 16:09:58 +1000 AEST">July 2, 2023</span> · 2 min · 264 words · Sukai Huang</footer>
<a aria-label="post link to Jianning_wang Boosting Language Models Reasoning With Chain of Knowledge Prompting 2023" class="entry-link" href="http://localhost:1313/posts/jianning_wang-boosting-language-models-reasoning-with-chain-of-knowledge-prompting-2023/"></a>
</article>
<article class="post-entry">
<figure class="entry-cover"><img alt="" loading="lazy" src="http://localhost:1313/posts/web-scrawler-using-selenium-2023/image-assets/cover.png"/>
</figure>
<header class="entry-header">
<h2 class="entry-hint-parent">Undetected Chromedriver Use Case
    </h2>
</header>
<div class="entry-content">
<p>[TOC]
Parsing a Property website in multiprocessing way 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71 72 73 74 75 76 77 78 79 80 81 82 83 84 85 86 87 88 89 90 91 92 93 94 95 96 97 98 99 100 101 102 103 104 105 106 107 108 109 110 111 112 113 114 115 116 117 118 119 120 121 122 123 124 125 126 127 128 129 130 131 132 133 134 135 136 137 138 139 140 141 142 143 144 145 146 147 148 149 150 151 152 153 154 155 156 157 158 159 160 161 162 163 164 165 166 167 168 169 170 171 172 173 174 175 176 177 178 179 180 181 182 183 184 185 186 187 188 189 190 191 192 193 194 195 196 197 198 199 200 201 202 203 204 205 206 207 208 209 210 211 212 213 214 215 216 217 218 219 220 221 222 223 224 225 226 227 228 229 230 231 232 233 234 235 236 237 238 239 240 241 242 243 244 245 246 247 248 249 250 251 252 253 254 255 256 257 258 259 260 261 262 263 264 265 266 267 268 269 270 271 272 273 274 275 276 277 278 279 280 281 282 283 284 285 286 287 288 289 290 291 292 293 294 295 296 297 298 299 300 301 302 303 304 305 306 307 308 309 310 311 312 313 314 315 316 317 318 319 320 321 322 323 324 325 326 327 328 329 330 331 332 333 334 335 336 337 338 339 340 341 342 343 344 345 346 347 348 349 350 351 352 353 354 355 356 357 358 359 360 361 362 363 364 365 366 367 368 369 370 371 372 373 374 375 376 377 378 379 380 381 382 383 384 385 386 387 388 389 390 391 392 393 394 395 396 397 398 399 400 401 402 403 404 405 406 407 408 409 410 411 412 413 414 415 416 417 418 419 420 421 422 423 424 425 426 427 428 429 430 431 432 433 434 435 436 437 438 439 440 441 442 443 444 445 446 447 448 449 450 451 452 453 454 455 456 457 458 459 460 461 462 463 464 465 466 467 468 469 470 471 472 473 474 475 476 477 478 479 480 481 482 483 484 485 486 487 488 489 490 491 492 493 494 495 496 497 498 499 500 501 502 503 504 505 506 507 508 509 510 511 512 513 514 515 516 517 518 519 520 521 522 523 524 525 526 527 528 # %% import sqlite3 from selenium.webdriver.common.by import By from selenium.webdriver.common.keys import Keys from selenium.webdriver.support.wait import WebDriverWait from selenium.webdriver.support import expected_conditions as EC from selenium.common.exceptions import TimeoutException, NoSuchElementException import logging from pathlib import Path from tqdm.auto import tqdm import os import pickle import csv import time import threading from glob import glob import argparse import random # %% [markdown] # ## Multiprocessing version # %% from tqdm.contrib.concurrent import process_map, thread_map from multiprocessing import Pool, Process, Manager, Lock import multiprocessing as mp from multiprocessing.dummy import Pool as DummyPool from webdriver_manager.chrome import ChromeDriverManager from logging.handlers import RotatingFileHandler HEADLESS = False VERSION = 120 PROCESS_NUM = 4 CHUNK_SIZE = 300 IMPLICIT_WAIT_TIME = 5 def setupLogger(loggername, loggingfile = None, logginglevel = logging.INFO, loggingqueue = None): """ Set up a logger with the specified name and optional logging file. Parameters: loggername (str): The name of the logger. loggingfile (str): The path to the logging file (optional). Returns: logging.Logger: The configured logger. """ if loggername not in logging.Logger.manager.loggerDict: # Create a logger in the main process logger = logging.getLogger(loggername) logger.setLevel(logginglevel) handler = logging.StreamHandler() if loggingfile is not None: filehandler = RotatingFileHandler(loggingfile, maxBytes=1000000, backupCount=3, delay=True) processname = mp.current_process().name if processname == 'MainProcess': # clear the log file with open(loggingfile, 'w'): pass formatter = logging.Formatter('%(asctime)s [%(processName)s] [%(levelname)s] %(message)s') handler.setFormatter(formatter) filehandler.setFormatter(formatter) if loggingqueue is not None: queuehandler = logging.handlers.QueueHandler(loggingqueue) logger.addHandler(queuehandler) logger.addHandler(handler) if loggingfile is not None: logger.addHandler(filehandler) return logger else: return logging.getLogger(loggername) class logging_tqdm(tqdm): def __init__( self, *args, loggername="logging_tqdm_logger", loggingfile = None, logginglevel = logging.INFO, loggingqueue = None, mininterval: float = 1, bar_format: str = '{desc}{percentage:3.0f}%{r_bar}', desc: str = 'progress: ', **kwargs): self._loggername = loggername self._loggingfile = loggingfile self._logginglevel = logginglevel self._loggingqueue = loggingqueue self._logger = setupLogger(loggername, loggingfile, logginglevel, loggingqueue) super().__init__( *args, mininterval=mininterval, bar_format=bar_format, desc=desc, **kwargs ) @property def logger(self): if self._logger is not None: return self._logger return setupLogger(self._loggername, self._loggingfile, self._logginglevel, self._loggingqueue) def display(self, msg=None, pos=None): if not self.n: # skip progress bar before having processed anything return if not msg: msg = self.__str__() self.logger.info(f'%s', msg) def sleepy_find_element(browser, by_query_list, attempt_count :int =30, sleep_duration =0.3): ''' Finds the web element using the locator and query. This function attempts to find the element multiple times with a specified sleep duration between attempts. If the element is found, the function returns the element. Args: by (selenium.webdriver.common.by.By): The method used to locate the element. query (str): The query string to locate the element. attempt_count (int, optional): The number of attempts to find the element. Default: 20. sleep_duration (int, optional): The duration to sleep between attempts. Default: 1. Returns: selenium.webdriver.remote.webelement.WebElement: Web element or None if not found. ''' if not isinstance(by_query_list[0], (list, tuple)): by_query_list = [by_query_list] item = [] browser.implicitly_wait(0.3) for _count in range(attempt_count): for (by, query) in by_query_list: item = browser.find_elements(by, query) if len(item) &gt; 0: item = item[0] # logging.info(f'Element {query} has found') break if item == []: # logging.info(f'Element {query} is not present, attempt: {_count+1}') time.sleep(sleep_duration) else: break if item is list: logging.warning("Element not find!") browser.implicitly_wait(IMPLICIT_WAIT_TIME) return item def collect_data_multiprocessing(postcode_chunk, chromelock,nodatalock,savedpstcdlock,loggingqueue, chrome_profile_path_lst, loggername, loggingfile, data_index ): import undetected_chromedriver as uc # local import due to memory leak # setuplogger logger = setupLogger(loggername, loggingfile, loggingqueue=loggingqueue) saved_postcode_lst = [] no_data_lst = [] # variables website_url = "https://propertydata.co.uk/internal-area-lookup" website_login_url = "https://propertydata.co.uk/login" postcode_input_xp = '//input[contains(@name, "postcode")]' submit_but_xp = '//input[contains(@name, "postcode")]/../following-sibling::label/input[contains(@type, "submit")]' back_but_xp = '//a[contains(.,"Look up another postcode")]' not_found_xp = '//p[contains(., "No energy performance")]' not_found_xp_2 = '//p[contains(., "enter a valid")]' anchor_td_xp = '//td[contains(., "Inspection date")]' data_tr_xp = anchor_td_xp + '/../../tr' # init browser with chromelock: chrome_profile_path = chrome_profile_path_lst.pop() logger.info(f"Chrome profile path: {chrome_profile_path}") # todo options = uc.ChromeOptions() options.page_load_strategy = 'eager' # options.add_argument("--auto-open-devtools-for-tabs") # help to avoid cloudfare human verify check options.add_argument("--disable-popup-blocking") options.add_argument("--window-size=800,600") # options.add_argument("--start-maximized") # options.add_argument('--disable-gpu') options.add_argument("--no-sandbox") options.add_argument("--disable-setuid-sandbox") options.add_argument("--disable-extensions") options.add_argument('--disable-application-cache') options.add_argument("--disable-dev-shm-usage") if HEADLESS: options.add_argument("--headless=new") driver = None # get process name thread_name = mp.current_process().name def init_and_login_localf(): driver.get("https://www.google.com/") time.sleep(1) driver.get(website_url) time.sleep(1) acc_eles = sleepy_find_element(driver, (By.XPATH, '//a[@href ="/account"]')) if acc_eles == []: logger.warning("Try to ReLogin") try: driver.get(website_login_url) except TimeoutException as e: logger.error(f"{e}") logger.error("Cannot Open Login Page!!!!") raise e address_ele = sleepy_find_element(driver, [By.XPATH, '//input[contains(@name, "email")]']) address_ele.click() time.sleep(1) time.sleep(1) passwd_ele = sleepy_find_element(driver, [By.XPATH, '//input[contains(@name, "password")]']) passwd_ele.click() time.sleep(1) time.sleep(1) remember_me_ele = sleepy_find_element(driver, [By.XPATH, '//input[contains(@name, "remember")]']) remember_me_ele.click() submit_ele = sleepy_find_element(driver, [By.XPATH, '//input[contains(@type, "submit")]']) submit_ele.click() WebDriverWait(driver, 20).until(EC.presence_of_element_located((By.XPATH, '//a[@href ="/account"]'))) driver.get(website_url) WebDriverWait(driver, 20).until(EC.presence_of_element_located((By.XPATH, '//a[@href ="/account"]'))) try: # check os system if os.name == "posix": time.sleep(0.3) # wait for chrome profile to be ready driver = uc.Chrome(options=options, driver_executable_path=ChromeDriverManager().install(), user_data_dir=chrome_profile_path, # version_main=VERSION, user_multi_procs=True) elif os.name == "nt": time.sleep(0.3) # wait for chrome profile to be ready # options.add_argument(f"--user-data-dir={chrome_profile_path}") driver = uc.Chrome(options=options, driver_executable_path=ChromeDriverManager().install(), # driver_executable_path=os.path.join(os.path.abspath(os.getcwd()), 'chromedriver-win64/chromedriver-win64/chromedriver.exe'), user_multi_procs=True, ) else: raise Exception("Unknown OS") driver.implicitly_wait(IMPLICIT_WAIT_TIME) the_id_num = int(chrome_profile_path.split("_")[-1]) if the_id_num == 0: x_offset = 0 y_offset = 0 elif the_id_num == 1: x_offset = 750 y_offset = 0 elif the_id_num == 2: x_offset = 0 y_offset = 450 elif the_id_num == 3: x_offset = 750 y_offset = 450 else: x_offset = 0 y_offset = 0 driver.set_window_size(900, 700, windowHandle ='current') time.sleep(1.5) driver.set_window_position(random.randint(40,80) + x_offset, random.randint(40,80) + y_offset, windowHandle ='current') time.sleep(2.5) init_and_login_localf() # loop for ind in tqdm(range(len(postcode_chunk)), desc="Working in "+thread_name): cur_postcode_name = postcode_chunk[ind] try: try_limit = 3 try_count = 0 while try_count &lt; try_limit: # load loopup result time.sleep(0.3) postcode_input_ele = sleepy_find_element(driver, [By.XPATH, postcode_input_xp]) submit_but_ele = sleepy_find_element(driver, [By.XPATH, submit_but_xp]) time.sleep(0.2) postcode_input_ele.click() postcode_input_ele.send_keys(cur_postcode_name) time.sleep(1) submit_but_ele.click() # collect data # ancor_or_not_found_ele = WebDriverWait(driver, 30).until(EC.any_of( # EC.presence_of_element_located((By.XPATH, not_found_xp)), # EC.presence_of_element_located((By.XPATH, not_found_xp_2)), # EC.presence_of_element_located((By.XPATH, anchor_td_xp)) # )) time.sleep(0.4) ancor_or_not_found_ele = sleepy_find_element(driver, [(By.XPATH, anchor_td_xp),(By.XPATH, not_found_xp), (By.XPATH, not_found_xp_2), (By.XPATH, submit_but_xp) ], 20) if ancor_or_not_found_ele == []: try_count += 1 continue if ancor_or_not_found_ele.tag_name == 'input': try_count += 1 continue break ancor_or_not_found_ele = sleepy_find_element(driver, [(By.XPATH, anchor_td_xp),(By.XPATH, not_found_xp), (By.XPATH, not_found_xp_2), ], 20) if ancor_or_not_found_ele == []: raise TimeoutException # check if no data elif ancor_or_not_found_ele.tag_name == 'p': no_data_lst.append(cur_postcode_name) if len(no_data_lst) &gt; 0: # save to file with nodatalock: with open('./running_input/postcode_no_data_lst.txt', 'a') as f: for pcl in no_data_lst: f.write(str(pcl)+"\n") no_data_lst[:] = [] # manager list remove all init_and_login_localf() continue time.sleep(random.randint(4,8)) # data_tr_eles = WebDriverWait(driver, 2).until( # EC.presence_of_all_elements_located((By.XPATH, data_tr_xp))) data_tr_eles = driver.find_elements(By.XPATH, data_tr_xp) data_tr_eles = data_tr_eles[1:] # remove first row except (NoSuchElementException, TimeoutException) as e: # try to skip cloudflare # driver.execute_script('''window.open("http://nowsecure.nl","_blank");''') # open page in new tab try: sleeptimeforcd = 30 logger.warning(f"Blocked by {type(e)}, Try to Sleep {sleeptimeforcd}s.") WebDriverWait(driver, sleeptimeforcd).until(EC.presence_of_element_located((By.XPATH, '//a[@href ="/account"]'))) except TimeoutException: init_and_login_localf() continue row_total_lst = [] for temp_data_tr_ele in data_tr_eles: all_eles = temp_data_tr_ele.find_elements(By.XPATH, "./td") if len(all_eles) != 6: continue inspection_date = all_eles[0].text address = all_eles[1].text floor_area = all_eles[2].text habitable_room = all_eles[3].text energyrate = all_eles[4].text energyrate_val = all_eles[5].text irow = [inspection_date, address, floor_area, habitable_room, energyrate, energyrate_val, cur_postcode_name] row_total_lst.append(irow) # save to file # with open("./postcode_lookup_info.csv", 'a') as f: # wt = csv.writer(f) # wt.writerows(row_total_lst) # we need database conn = sqlite3.connect(f'./running_output/postcode_lookup_info.db') curser = conn.cursor() with conn: sql_create_table = f""" CREATE TABLE IF NOT EXISTS postcode_info_data_table_{data_index} ( inspection_date TEXT, address TEXT UNIQUE, floor_area TEXT, habitable_room TEXT, energyrate TEXT, energyrate_val TEXT, postcode TEXT, PRIMARY KEY(address) ) WITHOUT ROWID; """ curser.execute(sql_create_table) curser.executemany(f"INSERT OR REPLACE INTO postcode_info_data_table_{data_index} (inspection_date, address, floor_area, habitable_room, energyrate, energyrate_val, postcode) VALUES (?,?,?,?,?,?,?)", row_total_lst) conn.close() # add row to saved_postcode_lst saved_postcode_lst.append(cur_postcode_name) if len(saved_postcode_lst) &gt; CHUNK_SIZE // 10: # save to file immediately with savedpstcdlock: with open('./running_input/postcode_alr_saved_lst.txt', 'a') as f: for pcl in saved_postcode_lst: f.write(str(pcl)+"\n") saved_postcode_lst[:] = [] # manager list remove all # backto search bar back_but_ele = sleepy_find_element(driver, [By.XPATH, back_but_xp]) back_but_ele.click() except Exception as e: logger.error(f"Unsovable Error: {e}") if driver is not None: driver.close() time.sleep(0.2) driver.quit() time.sleep(0.2) driver = None finally: with chromelock: chrome_profile_path_lst.append(chrome_profile_path) # return profile path to list time.sleep(3) if driver is not None: driver.close() time.sleep(2) driver.quit() time.sleep(2) driver = None if len(saved_postcode_lst) &gt; 0: with savedpstcdlock: with open('./running_input/postcode_alr_saved_lst.txt', 'a') as f: for pcl in saved_postcode_lst: f.write(str(pcl)+"\n") saved_postcode_lst[:] = [] # manager list remove all if len(no_data_lst) &gt; 0: logger.info(f"No Data list {no_data_lst}") with nodatalock: with open('./running_input/postcode_no_data_lst.txt', 'a') as f: for pcl in no_data_lst: f.write(str(pcl)+"\n") no_data_lst[:] = [] # manager list remove all # %% def helperf(args): return collect_data_multiprocessing(*args) if __name__ == '__main__': if os.name == "nt": mp.set_start_method('spawn', force=True) else: mp.set_start_method('fork', force=True) manager = Manager() # Manager dictionary must be used for multiprocessing # m_saved_postcode_lst = manager.list(saved_postcode_lst) # m_no_data_lst = manager.list(no_data_lst) m_chromelock = manager.Lock() m_nodatalock = manager.Lock() m_savedpstcdlock = manager.Lock() m_loggingqueue = manager.Queue() parser = argparse.ArgumentParser() parser.add_argument('--data_index', type=int, required=True, choices=[1,2,3]) args = parser.parse_args() data_index = args.data_index # make chrome profile for i in range(PROCESS_NUM): chrome_profile_path = f"./chrome_profile/chrome_profile_propertydata_co_uk_{i+1}" if not os.path.exists(chrome_profile_path): Path(chrome_profile_path).mkdir(parents=True, exist_ok=True) # setup logger loggername = "web_scraping_status_logger" loggingfile = "web_scraping_status.log" logger = setupLogger(loggername, loggingfile, loggingqueue=m_loggingqueue) if os.path.exists('./running_input/postcode_no_data_lst.txt'): with open('./running_input/postcode_no_data_lst.txt', 'r') as f: no_data_lst = f.read() no_data_lst = no_data_lst.split('\n') else: no_data_lst = [] logger.info(f"No Data list len {len(no_data_lst)}") # make running_output dir Path('./running_output').mkdir(parents=True, exist_ok=True) # %% # get postcode list from local with open(f"./running_input/postcode_list_sub_{data_index}.pkl", 'rb') as f: postcode_list = pickle.load(f) logger.info(f'Postcode_list len raw: {len(postcode_list)}') if os.path.exists('./running_input/postcode_alr_saved_lst.txt'): with open('./running_input/postcode_alr_saved_lst.txt', 'r') as f: alr_saved_pstcd_list = f.read() alr_saved_pstcd_list = alr_saved_pstcd_list.split('\n') # to dict alr_saved_pstcd_dct = {x:None for x in alr_saved_pstcd_list} no_data_dict = {x:None for x in no_data_lst} postcode_list_temp = [] for pc in tqdm(postcode_list): if pc not in alr_saved_pstcd_dct and pc not in no_data_dict: postcode_list_temp.append(pc) postcode_list = postcode_list_temp logger.info(f'Postcode_list len after filtering: {len(postcode_list)}') # %% saved_postcode_lst = [] profile_path_list = glob(os.path.join(os.path.abspath(os.getcwd()), "chrome_profile", "chrome_profile_propertydata_co_uk_*")) m_profile_path_list = manager.list(profile_path_list) # %% postcode_list_chunks = [postcode_list[x:x+CHUNK_SIZE] for x in range(0, len(postcode_list), CHUNK_SIZE)] # %% args = [(chunk, m_chromelock,m_nodatalock,m_savedpstcdlock,m_loggingqueue, m_profile_path_list, loggername, loggingfile, data_index) for chunk in postcode_list_chunks] try: with mp.Pool(PROCESS_NUM) as pool: results = list(logging_tqdm(pool.imap(helperf, args, chunksize=1), total=len(args), loggername=loggername, loggingfile=loggingfile, loggingqueue=m_loggingqueue, desc="Progress Status in Main Process")) except Exception as e: logger.error(e) raise e finally: active_children = mp.active_children() for p in active_children: p.kill() p.join() logger.info("Killing all processes") </p>
</div>
<footer class="entry-footer"><span title="2023-06-22 22:38:28 +1000 AEST">June 22, 2023</span> · 10 min · 2086 words · Sukai Huang</footer>
<a aria-label="post link to Undetected Chromedriver Use Case" class="entry-link" href="http://localhost:1313/programming-notes/web-scrawler-using-selenium-2023/uc-use-case/"></a>
</article>
<article class="post-entry">
<figure class="entry-cover"><img alt="" loading="lazy" src="http://localhost:1313/posts/web-scrawler-using-selenium-2023/image-assets/cover.png"/>
</figure>
<header class="entry-header">
<h2 class="entry-hint-parent">Web Scrawler Using Selenium 2023
    </h2>
</header>
<div class="entry-content">
<p>[TOC]
Title: Web Scrawler Using Selenium 2023 Review Date: Thu, Jun 22, 2023 Web scrawler, ticket buying as a case study Preparation: python venv check https://www.youtube.com/watch?v=Kg1Yvry_Ydk 1 2 3 4 5 6 7 8 9 python -m venv venv source venv/bin/activate # install the following using pip selenium==4.9.1 undetected-chromedriver&gt;=3.4.6 webdriver-manager jupyterlab pyopenssl known where is the Google Chrome user file location 1 2 MAC ~/Library/Application Support/Google/Chrome Linux ~/.config/google-chrome 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 # load options options = uc.ChromeOptions() options.page_load_strategy = 'eager' # options.add_argument("--auto-open-devtools-for-tabs") # help to avoid cloudfare human verify check options.add_argument("--disable-popup-blocking") options.add_argument("--window-size=800,600") options.add_argument("--start-maximized") options.add_argument('--disable-gpu') options.add_argument("--no-sandbox") options.add_argument("--disable-setuid-sandbox") options.add_argument("--disable-extensions") options.add_argument('--disable-application-cache') options.add_argument("--disable-dev-shm-usage") if HEADLESS: options.add_argument("--headless=new") try: # check os system if os.name == "posix": time.sleep(3) # wait for chrome profile to be ready driver = uc.Chrome(options=options, driver_executable_path=ChromeDriverManager().install(), user_data_dir=chrome_profile_path, # version_main=VERSION, user_multi_procs=True) elif os.name == "nt": time.sleep(3) # wait for chrome profile to be ready options.add_argument(f"--user-data-dir={chrome_profile_path}") driver = uc.Chrome(options=options, driver_executable_path=ChromeDriverManager().install(), # driver_executable_path=os.path.join(os.path.abspath(os.getcwd()), 'chromedriver-win64/chromedriver-win64/chromedriver.exe'), user_multi_procs=True, ) else: raise Exception("Unknown OS") driver.implicitly_wait(5) Some known issue about selenium to avoid memory leak in multiprocessing env, please import the driver inside the subprocess (e.g., inside the function) wait until presence is very slow, try the sleepy find element we need to setup logging queue to avoid crash for multiprocessing logging module list(tqdm(pool.imap(*), total = len(*))) is a good way to record multiprocess progress Utils functions sleep find element 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 def sleepy_find_element(by, query, attempt_count :int =30, sleep_duration =0.3): ''' Finds the web element using the locator and query. This function attempts to find the element multiple times with a specified sleep duration between attempts. If the element is found, the function returns the element. Args: by (selenium.webdriver.common.by.By): The method used to locate the element. query (str): The query string to locate the element. attempt_count (int, optional): The number of attempts to find the element. Default: 20. sleep_duration (int, optional): The duration to sleep between attempts. Default: 1. Returns: selenium.webdriver.remote.webelement.WebElement: Web element or None if not found. ''' global browser for _count in range(attempt_count): item = browser.find_elements(by, query) if len(item) &gt; 0: item = item[0] logging.info(f'Element {query} has found') break logging.info(f'Element {query} is not present, attempt: {_count+1}') time.sleep(sleep_duration) if item is list: logging.warning("Element not find!") return item move to element 1 2 3 4 5 6 7 8 # import Action chains from selenium.webdriver import ActionChains #element source = driver.find_element_by_id("name") #action chain object action = ActionChains(driver) # move to element operation action.move_to_element(source).click().perform() useful imports 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 from selenium.webdriver.common.by import By from selenium.webdriver.common.keys import Keys from selenium.webdriver.support.wait import WebDriverWait from selenium.webdriver.support import expected_conditions as EC from selenium.common.exceptions import TimeoutException, NoSuchElementException import logging from pathlib import Path from tqdm.auto import tqdm import os import pickle import csv import time import threading from glob import glob import argparse lxml html xpath with requests used for requests (simpler and faster in some cases) 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 from lxml import html response = requests.get(complete_url) content = response.content tree = html.fromstring(content) # read byte content # print("start loading") # latitude latitude_xp = '//h3[contains(text(), "Coordinates")]/following-sibling::p[contains(text(), "Latitude")]' latitude_ele = tree.xpath(latitude_xp) if latitude_ele: latitude_ele = latitude_ele[0] latitude_info = latitude_ele.text_content().strip().split("Latitude: ")[1] # print('latitude_info', latitude_info) temp = dict() temp['latitude'] = latitude_info else: return text_content() will get all the text in the node, which is same as .text in selenium multiprocessing with tqdm 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 from tqdm.contrib.concurrent import process_map from multiprocessing import Pool, Process, Manager, Lock manager = Manager() # Manager dictionary must be used for multiprocessing # m_saved_postcode_lst = manager.list(saved_postcode_lst) # m_no_data_lst = manager.list(no_data_lst) m_chromelock = manager.Lock() m_nodatalock = manager.Lock() m_savedpstcdlock = manager.Lock() m_profile_path_list = manager.list(profile_path_list) # %% postcode_list_chunks = [postcode_list[x:x+CHUNK_SIZE] for x in range(0, len(postcode_list), CHUNK_SIZE)] # %% args = [(chunk, m_chromelock,m_nodatalock,m_savedpstcdlock, m_profile_path_list, loggername, loggingfile, data_index) for chunk in postcode_list_chunks] try: with mp.Pool(PROCESS_NUM) as pool: results = list(logging_tqdm(pool.imap(helperf, args, chunksize=1), total=len(args), loggername=loggername, loggingfile=loggingfile, desc="Progress Status in Main Process")) except Exception as e: logger.error(e) raise e finally: active_children = mp.active_children() for p in active_children: p.kill() p.join() logger.info("Killing all processes") # IMPORTANT we must attach dict to the manager dict, nest dict update is banned in multiprocessing temp = { "United States": "New York", "Italy": "Naples", "England": "London" } postcode_info_dict[postcode] = temp # OK postcode_info_dict[postcode]['United States'] = "New York" # BAD </p>
</div>
<footer class="entry-footer"><span title="2023-06-22 22:38:28 +1000 AEST">June 22, 2023</span> · 4 min · 813 words · Sukai Huang</footer>
<a aria-label="post link to Web Scrawler Using Selenium 2023" class="entry-link" href="http://localhost:1313/programming-notes/web-scrawler-using-selenium-2023/"></a>
</article>
<article class="post-entry">
<figure class="entry-cover"><img alt="" loading="lazy" src="http://localhost:1313/posts/web-scrawler-using-selenium-2023/image-assets/cover.png"/>
</figure>
<header class="entry-header">
<h2 class="entry-hint-parent">Xpath-cheatsheet
    </h2>
</header>
<div class="entry-content">
<p>[TOC]
Xpath cheatsheet Previous Next Page: / </p>
</div>
<footer class="entry-footer"><span title="2023-06-22 22:38:28 +1000 AEST">June 22, 2023</span> · 1 min · 7 words · Sukai Huang</footer>
<a aria-label="post link to Xpath-cheatsheet" class="entry-link" href="http://localhost:1313/programming-notes/web-scrawler-using-selenium-2023/xpath-cheatsheet/"></a>
</article>
<article class="post-entry">
<figure class="entry-cover"><img alt="" loading="lazy" src="http://localhost:1313/posts/lin_guan-leveraging-pretrained-llm-to-construct-and-utilise-world-models-for-model-based-task-planning-2023/image-assets/cover.png"/>
</figure>
<header class="entry-header">
<h2 class="entry-hint-parent">Lin_guan Leveraging Pretrained Llm to Construct and Utilise World Models for Model Based Task Planning 2023
    </h2>
</header>
<div class="entry-content">
<p>[TOC]
Title: Leveraging Pretrained Large Language Models to Construct and Utilise World Models for Model Based Task Planning Author: Lin Guan et. al. Publish Year: 24 May 2023 Review Date: Sun, Jun 4, 2023 url: https://arxiv.org/pdf/2305.14909.pdf Summary of paper Motivation However, methods that use LLMs directly as planners are currently impractical due to several factors, including limited correctness of plans, strong reliance on feedback from interactions with simulators or even the actual environment, and the inefficiency in utilizing human feedback. Contribution introduce a alternative paradigm that construct an explicit world (domain) model in planning domain definition language (PDDL) and then use it to plan with sound domain-independent planners. users can correct the PDDL before the real planning. Findings GPT-4 can readily correct all the errors according to natural language feedback from PDDL validators and humans. Some key terms approach
...</p>
</div>
<footer class="entry-footer"><span title="2023-06-04 12:01:46 +1000 AEST">June 4, 2023</span> · 3 min · 499 words · Sukai Huang</footer>
<a aria-label="post link to Lin_guan Leveraging Pretrained Llm to Construct and Utilise World Models for Model Based Task Planning 2023" class="entry-link" href="http://localhost:1313/posts/lin_guan-leveraging-pretrained-llm-to-construct-and-utilise-world-models-for-model-based-task-planning-2023/"></a>
</article>
<article class="post-entry">
<figure class="entry-cover"><img alt="" loading="lazy" src="http://localhost:1313/posts/python-module-and-package-management-2023/image-assets/cover.png"/>
</figure>
<header class="entry-header">
<h2 class="entry-hint-parent">Python Module and Package Management 2023
    </h2>
</header>
<div class="entry-content">
<p>[TOC]
Title: Python Module and Package Management 2023 url: https://www.youtube.com/watch?v=v6tALyc4C10 Python module common issue 1: python -m dir vs python dir python dir will use the dir as the PYTHONPATH as run __main__.py file. however, python -m dir will not use the dir as PYTHONPATH but rather it will search the local library. thus ModuleNotFoundError may appear Standard way of import when you want to create a module use absolute path -&gt; from moduledir/packagename import filename avoid using relative path e.g., from .xxx import yyy if within the same module, you can just use from xxx import yyy However, in a complicated project where there are too many modules. one workaround is that we still make it a module, but try to append folder path to the system path. 1 2 import os, sys sys.path.append(os.path.dirname(os.path.realpath(__file__))) always use it as the last resort. Solution: setup pyproject.toml and install it as a proper module python -m venv .venv
...</p>
</div>
<footer class="entry-footer"><span title="2023-05-28 11:56:47 +1000 AEST">May 28, 2023</span> · 5 min · 1024 words · Sukai Huang</footer>
<a aria-label="post link to Python Module and Package Management 2023" class="entry-link" href="http://localhost:1313/programming-notes/python-module-and-package-management-2023/"></a>
</article>
<article class="post-entry">
<figure class="entry-cover"><img alt="" loading="lazy" src="http://localhost:1313/posts/dharma_kc-neural-machine-translation-for-code-generation-2023/image-assets/cover.png"/>
</figure>
<header class="entry-header">
<h2 class="entry-hint-parent">Dharma_kc Neural Machine Translation for Code Generation 2023
    </h2>
</header>
<div class="entry-content">
<p>[TOC]
Title: Neural Machine Translation for Code Generation Author: Dharma KC et. al. Publish Year: 22 May 2023 Review Date: Sun, May 28, 2023 url: https://arxiv.org/pdf/2305.13504.pdf Summary of paper Motivation Recently, NMT methods have been adapted to the generation of program code. In NMT for code generation, the task is to generate output source code that satisfies constraints expressed in the input. Conclusion NMT-based architecture are getting quite popular for source generation from various input. The NMT-based code generation is useful in multiple domains such as code generation from input binary or assembly (decompilation), code-to-code translation, code repair, bug fixing, and many more. some open problems source code has long dependencies in multiple places next-token prediction technique may lost the dependency information Methods that can break down a problem into small problems, generate code for such subprograms, and evaluate them are good potential research direction sample efficiency Current code generation does not combine code abstraction to higher-level abstractions as human do. Execution-guided synthesis currently works with DSLs, but extending them to real-world source code generation is a research direction. Retrieve-and-Edit framework </p>
</div>
<footer class="entry-footer"><span title="2023-05-28 09:52:32 +1000 AEST">May 28, 2023</span> · 1 min · 181 words · Sukai Huang</footer>
<a aria-label="post link to Dharma_kc Neural Machine Translation for Code Generation 2023" class="entry-link" href="http://localhost:1313/posts/dharma_kc-neural-machine-translation-for-code-generation-2023/"></a>
</article>
<article class="post-entry">
<figure class="entry-cover"><img alt="" loading="lazy" src="http://localhost:1313/posts/jiannan_xiang-language-models-meet-world-models-2023/image-assets/cover.png"/>
</figure>
<header class="entry-header">
<h2 class="entry-hint-parent">Jiannan_xiang Language Models Meet World Models 2023
    </h2>
</header>
<div class="entry-content">
<p>[TOC]
Title: Language Models Meet World Models: Embodied Experiences Enhance Language Models Author: Jiannan Xiang et. al. Publish Year: 22 May 2023 Review Date: Fri, May 26, 2023 url: https://arxiv.org/pdf/2305.10626v2.pdf Summary of paper Motivation LLM often struggle with simple reasoning and planning in physical environment the limitation arises from the fact that LMs are trained only on written text and miss essential embodied knowledge and skills. Contribution we propose a new paradigm of enhancing LMs by finetuning them with world models, to gain diverse embodied knowledge while retaining their general language capabilities. the experiments in a virtual physical world simulation environment will be used to finetune LMs to teach diverse abilities of reasoning and acting in the physical world, e.g., planning and completing goals, object permanence and tracking etc. to preserve the generalisation ability of LM models, we use elastic weight consolidation (EWC) for selective weight updates, combined with low-rank adapters (LoRA) for training efficiency. Some key terms ...</p>
</div>
<footer class="entry-footer"><span title="2023-05-26 01:00:02 +1000 AEST">May 26, 2023</span> · 2 min · 357 words · Sukai Huang</footer>
<a aria-label="post link to Jiannan_xiang Language Models Meet World Models 2023" class="entry-link" href="http://localhost:1313/posts/jiannan_xiang-language-models-meet-world-models-2023/"></a>
</article>
<footer class="page-footer">
<nav class="pagination">
<a class="prev" href="http://localhost:1313/page/4/">
      « Prev 4/11
    </a>
<a class="next" href="http://localhost:1313/page/6/">Next 6/11 »
    </a>
</nav>
</footer>
</main>
<footer class="footer">
<span>© 2024 <a href="http://localhost:1313/">Sukai Huang</a></span> · 

    <span>
        Powered by
        <a href="https://gohugo.io/" rel="noopener noreferrer" target="_blank">Hugo</a> &amp;
        <a href="https://github.com/adityatelange/hugo-PaperMod/" rel="noopener" target="_blank">PaperMod</a>
</span>
</footer>
<a accesskey="g" aria-label="go to top" class="top-link" href="#top" id="top-link" title="Go to Top (Alt + G)">
<svg fill="currentColor" viewbox="0 0 12 6" xmlns="http://www.w3.org/2000/svg">
<path d="M12 6H0l6-6z"></path>
</svg>
</a>
<script>
    let menu = document.getElementById('menu')
    if (menu) {
        menu.scrollLeft = localStorage.getItem("menu-scroll-position");
        menu.onscroll = function () {
            localStorage.setItem("menu-scroll-position", menu.scrollLeft);
        }
    }

    document.querySelectorAll('a[href^="#"]').forEach(anchor => {
        anchor.addEventListener("click", function (e) {
            e.preventDefault();
            var id = this.getAttribute("href").substr(1);
            if (!window.matchMedia('(prefers-reduced-motion: reduce)').matches) {
                document.querySelector(`[id='${decodeURIComponent(id)}']`).scrollIntoView({
                    behavior: "smooth"
                });
            } else {
                document.querySelector(`[id='${decodeURIComponent(id)}']`).scrollIntoView();
            }
            if (id === "top") {
                history.replaceState(null, null, " ");
            } else {
                history.pushState(null, null, `#${id}`);
            }
        });
    });

</script>
<script>
    var mybutton = document.getElementById("top-link");
    window.onscroll = function () {
        if (document.body.scrollTop > 800 || document.documentElement.scrollTop > 800) {
            mybutton.style.visibility = "visible";
            mybutton.style.opacity = "1";
        } else {
            mybutton.style.visibility = "hidden";
            mybutton.style.opacity = "0";
        }
    };

</script>
<script>
    document.getElementById("theme-toggle").addEventListener("click", () => {
        if (document.body.className.includes("dark")) {
            document.body.classList.remove('dark');
            localStorage.setItem("pref-theme", 'light');
        } else {
            document.body.classList.add('dark');
            localStorage.setItem("pref-theme", 'dark');
        }
    })

</script>
</body>
</html>
