<!DOCTYPE html>
<html dir="auto" lang="en">
<head><meta charset="utf-8"/>
<meta content="IE=edge" http-equiv="X-UA-Compatible"/>
<meta content="width=device-width, initial-scale=1, shrink-to-fit=no" name="viewport"/>
<meta content="index, follow" name="robots"/>
<title>Remote Server, Tmux and Joshuto 2023 | Sukai Huang</title>
<meta content="" name="keywords"/>
<meta content="[TOC]

Title: Remote Server and Tmux 2023
Review Date: Sun, Jul 16, 2023
url: https://tmuxcheatsheet.com/
url: https://explainshell.com

When you want to have a long-run Jupyter notebook

when you ssh to a remote server and have a long-run program (e.g., using jupyter notebook for training deep learning models )
you need to detach your job to background otherwise the program will stop when you exit ssh.
you need tmux
some useful tmux shortcut



 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27


tmux new -s &lt;yourname&gt; # start a new session with the name &lt;yourname&gt;

tmux kill-session -t &lt;sname&gt; # kill session with name &lt;sname&gt;

tmux ls # list all sessions 

tmux a # attach the last session 
tmux a -t &lt;sname&gt; # attach the session with name &lt;sname&gt; 

# in the tmux 
ctrl + b + $ # rename the session name 

ctrl + b + d # detach session 

ctrl + b + w # list windows 

ctrl + b + c # new window 

ctrl + b + % # split a new pane 

# panes

ctrl + b + [ # scroll mode 

ctrl + b + arrow # switch pane focus

ctrl + b + x # close pane


tqdm to file for long-run jobs

when you want to have a long-run jupyter and you cannot directly use tqdm to monitor. Every time you want to reconnect to the jupyter kernel, the tqdm progress bar will be cleared.
to solve this, you need to store it to file
also for long-run jobs, always save your data regularly



 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15


# example
from tqdm import tqdm
a_dict = dict()
save_interval = 20000
a_dict_count = len(a_dict)
with open('preprocess_log.txt', 'w') as log_f:
    for key, val in tqdm(b_dict.items(), file=log_f, mininterval=3):
        # temp save 
        if len(a_dict) % save_interval == 0:
            with open('a_dict.pkl', 'wb') as save_f:
                pickle.dump(a_dict, save_f)
        if key not in a_dict:
            a_dict[key] = extract_info(val)
            assert len(a_dict) == a_dict_count + 1
            a_dict_count = len(a_dict)


Joshuto - advanced terminal file manager

you want a good file manager when you are in cli, joshuto is what you want.

https://github.com/kamiyaa/joshuto" name="description"/>
<meta content="Sukai Huang" name="author"/>
<link href="https://sino-huang.github.io/programming-notes/remote-server-and-tmux-2023/" rel="canonical"/>
<meta content="IFgzhtDTVCjONQMwQsBfuf0ZyHdzUR5WFYzbWsf2Gf8" name="google-site-verification"/>
<link as="style" crossorigin="anonymous" href="/assets/css/stylesheet.d6fcd20a4fb86efa4dfac8ec95da60244cc8871042183da1ef28e3a762ad79c8.css" integrity="sha256-1vzSCk+4bvpN+sjsldpgJEzIhxBCGD2h7yjjp2Ktecg=" rel="preload stylesheet"/>
<link href="https://sino-huang.github.io/favicon.ico" rel="icon"/>
<link href="https://sino-huang.github.io/favicon-16x16.png" rel="icon" sizes="16x16" type="image/png"/>
<link href="https://sino-huang.github.io/favicon-32x32.png" rel="icon" sizes="32x32" type="image/png"/>
<link href="https://sino-huang.github.io/apple-touch-icon.png" rel="apple-touch-icon"/>
<link href="https://sino-huang.github.io/safari-pinned-tab.svg" rel="mask-icon"/>
<meta content="#2e2e33" name="theme-color"/>
<meta content="#2e2e33" name="msapplication-TileColor"/>
<link href="https://sino-huang.github.io/programming-notes/remote-server-and-tmux-2023/index.xml" rel="alternate" type="application/rss+xml"/>
<link href="https://sino-huang.github.io/programming-notes/remote-server-and-tmux-2023/" hreflang="en" rel="alternate"/>
<noscript>
<style>
        #theme-toggle,
        .top-link {
            display: none;
        }

    </style>
<style>
        @media (prefers-color-scheme: dark) {
            :root {
                --theme: rgb(29, 30, 32);
                --entry: rgb(46, 46, 51);
                --primary: rgb(218, 218, 219);
                --secondary: rgb(155, 156, 157);
                --tertiary: rgb(65, 66, 68);
                --content: rgb(196, 196, 197);
                --code-block-bg: rgb(46, 46, 51);
                --code-bg: rgb(55, 56, 62);
                --border: rgb(51, 51, 51);
            }

            .list {
                background: var(--theme);
            }

            .list:not(.dark)::-webkit-scrollbar-track {
                background: 0 0;
            }

            .list:not(.dark)::-webkit-scrollbar-thumb {
                border-color: var(--theme);
            }
        }

    </style>
</noscript>
<script async="" src="https://www.googletagmanager.com/gtag/js?id=G-TTFTV1EWH5"></script>
<script>
        var doNotTrack = false;
        if ( false ) {
          var dnt = (navigator.doNotTrack || window.doNotTrack || navigator.msDoNotTrack);
          var doNotTrack = (dnt == "1" || dnt == "yes");
        }
        if (!doNotTrack) {
          window.dataLayer = window.dataLayer || [];
          function gtag(){dataLayer.push(arguments);}
          gtag('js', new Date());
          gtag('config', 'G-TTFTV1EWH5');
        }
      </script><meta content="https://sino-huang.github.io/programming-notes/remote-server-and-tmux-2023/" property="og:url"/>
<meta content="Sukai Huang" property="og:site_name"/>
<meta content="Remote Server, Tmux and Joshuto 2023" property="og:title"/>
<meta content="[TOC]
Title: Remote Server and Tmux 2023 Review Date: Sun, Jul 16, 2023 url: https://tmuxcheatsheet.com/ url: https://explainshell.com When you want to have a long-run Jupyter notebook when you ssh to a remote server and have a long-run program (e.g., using jupyter notebook for training deep learning models ) you need to detach your job to background otherwise the program will stop when you exit ssh. you need tmux some useful tmux shortcut 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 tmux new -s &lt;yourname&gt; # start a new session with the name &lt;yourname&gt; tmux kill-session -t &lt;sname&gt; # kill session with name &lt;sname&gt; tmux ls # list all sessions tmux a # attach the last session tmux a -t &lt;sname&gt; # attach the session with name &lt;sname&gt; # in the tmux ctrl + b + $ # rename the session name ctrl + b + d # detach session ctrl + b + w # list windows ctrl + b + c # new window ctrl + b + % # split a new pane # panes ctrl + b + [ # scroll mode ctrl + b + arrow # switch pane focus ctrl + b + x # close pane tqdm to file for long-run jobs when you want to have a long-run jupyter and you cannot directly use tqdm to monitor. Every time you want to reconnect to the jupyter kernel, the tqdm progress bar will be cleared. to solve this, you need to store it to file also for long-run jobs, always save your data regularly 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 # example from tqdm import tqdm a_dict = dict() save_interval = 20000 a_dict_count = len(a_dict) with open('preprocess_log.txt', 'w') as log_f: for key, val in tqdm(b_dict.items(), file=log_f, mininterval=3): # temp save if len(a_dict) % save_interval == 0: with open('a_dict.pkl', 'wb') as save_f: pickle.dump(a_dict, save_f) if key not in a_dict: a_dict[key] = extract_info(val) assert len(a_dict) == a_dict_count + 1 a_dict_count = len(a_dict) Joshuto - advanced terminal file manager you want a good file manager when you are in cli, joshuto is what you want. https://github.com/kamiyaa/joshuto" property="og:description"/>
<meta content="en" property="og:locale"/>
<meta content="website" property="og:type"/>
<meta content="https://sino-huang.github.io/posts/remote-server-and-tmux-2023/image-assets/cover.png" property="og:image"/>
<meta content="summary_large_image" name="twitter:card"/>
<meta content="https://sino-huang.github.io/posts/remote-server-and-tmux-2023/image-assets/cover.png" name="twitter:image"/>
<meta content="Remote Server, Tmux and Joshuto 2023" name="twitter:title"/>
<meta content="Sukai's academic blog - storing weekly reports and research paper reviews" name="twitter:description"/>
<script type="application/ld+json">
{
  "@context": "https://schema.org",
  "@type": "BreadcrumbList",
  "itemListElement": [
    {
      "@type": "ListItem",
      "position":  1 ,
      "name": "Programming-Notes",
      "item": "https://sino-huang.github.io/programming-notes/"
    }, 
    {
      "@type": "ListItem",
      "position":  2 ,
      "name": "Remote Server, Tmux and Joshuto 2023",
      "item": "https://sino-huang.github.io/programming-notes/remote-server-and-tmux-2023/"
    }
  ]
}
</script>
</head>
<body class="list" id="top">
<script>
    if (localStorage.getItem("pref-theme") === "dark") {
        document.body.classList.add('dark');
    } else if (localStorage.getItem("pref-theme") === "light") {
        document.body.classList.remove('dark')
    } else if (window.matchMedia('(prefers-color-scheme: dark)').matches) {
        document.body.classList.add('dark');
    }

</script>
<header class="header">
<nav class="nav">
<div class="logo">
<a accesskey="h" href="https://sino-huang.github.io/" title="Sukai Huang (Alt + H)">Sukai Huang</a>
<div class="logo-switches">
<button accesskey="t" id="theme-toggle" title="(Alt + T)">
<svg fill="none" height="18" id="moon" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" viewbox="0 0 24 24" width="24" xmlns="http://www.w3.org/2000/svg">
<path d="M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z"></path>
</svg>
<svg fill="none" height="18" id="sun" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" viewbox="0 0 24 24" width="24" xmlns="http://www.w3.org/2000/svg">
<circle cx="12" cy="12" r="5"></circle>
<line x1="12" x2="12" y1="1" y2="3"></line>
<line x1="12" x2="12" y1="21" y2="23"></line>
<line x1="4.22" x2="5.64" y1="4.22" y2="5.64"></line>
<line x1="18.36" x2="19.78" y1="18.36" y2="19.78"></line>
<line x1="1" x2="3" y1="12" y2="12"></line>
<line x1="21" x2="23" y1="12" y2="12"></line>
<line x1="4.22" x2="5.64" y1="19.78" y2="18.36"></line>
<line x1="18.36" x2="19.78" y1="5.64" y2="4.22"></line>
</svg>
</button>
</div>
</div>
<ul id="menu">
<li>
<a href="https://sino-huang.github.io/biography/" title="Biography">
<span>Biography</span>
</a>
</li>
<li>
<a href="https://sino-huang.github.io/archives" title="Archive">
<span>Archive</span>
</a>
</li>
<li>
<a href="https://sino-huang.github.io/tags/" title="Tags">
<span>Tags</span>
</a>
</li>
<li>
<a href="https://sino-huang.github.io/categories/" title="Categories">
<span>Categories</span>
</a>
</li>
<li>
<a accesskey="/" href="https://sino-huang.github.io/search/" title="Search (Alt + /)">
<span>Search</span>
</a>
</li>
</ul>
</nav>
</header>
<main class="main">
<header class="page-header"><div class="breadcrumbs"><a href="https://sino-huang.github.io/">Home</a> » <a href="https://sino-huang.github.io/programming-notes/">Programming-Notes</a></div>
<h1>
    Remote Server, Tmux and Joshuto 2023
    <a aria-label="RSS" href="/programming-notes/remote-server-and-tmux-2023/index.xml" title="RSS">
<svg fill="none" height="23" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
<path d="M4 11a9 9 0 0 1 9 9"></path>
<path d="M4 4a16 16 0 0 1 16 16"></path>
<circle cx="5" cy="19" r="1"></circle>
</svg>
</a>
</h1>
</header>
<div class="post-content"><p>[TOC]</p>
<ol>
<li>Title: Remote Server and Tmux 2023</li>
<li>Review Date: Sun, Jul 16, 2023</li>
<li>url: <a href="https://tmuxcheatsheet.com/">https://tmuxcheatsheet.com/</a></li>
<li>url: <a href="https://explainshell.com">https://explainshell.com</a></li>
</ol>
<h2 id="when-you-want-to-have-a-long-run-jupyter-notebook">When you want to have a long-run Jupyter notebook<a aria-hidden="true" class="anchor" hidden="" href="#when-you-want-to-have-a-long-run-jupyter-notebook">#</a></h2>
<ul>
<li>when you ssh to a remote server and have a long-run program (e.g., using jupyter notebook for training deep learning models )</li>
<li>you need to detach your job to background otherwise the program will stop when you exit ssh.</li>
<li>you need <code>tmux</code></li>
<li>some useful tmux shortcut</li>
</ul>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma" tabindex="0"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span><span class="lnt">20
</span><span class="lnt">21
</span><span class="lnt">22
</span><span class="lnt">23
</span><span class="lnt">24
</span><span class="lnt">25
</span><span class="lnt">26
</span><span class="lnt">27
</span></code></pre></td>
<td class="lntd">
<pre class="chroma" tabindex="0"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">tmux new -s &lt;yourname&gt; <span class="c1"># start a new session with the name &lt;yourname&gt;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">tmux kill-session -t &lt;sname&gt; <span class="c1"># kill session with name &lt;sname&gt;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">tmux ls <span class="c1"># list all sessions </span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">tmux a <span class="c1"># attach the last session </span>
</span></span><span class="line"><span class="cl">tmux a -t &lt;sname&gt; <span class="c1"># attach the session with name &lt;sname&gt; </span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1"># in the tmux </span>
</span></span><span class="line"><span class="cl">ctrl + b + $ <span class="c1"># rename the session name </span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">ctrl + b + d <span class="c1"># detach session </span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">ctrl + b + w <span class="c1"># list windows </span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">ctrl + b + c <span class="c1"># new window </span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">ctrl + b + % <span class="c1"># split a new pane </span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1"># panes</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">ctrl + b + <span class="o">[</span> <span class="c1"># scroll mode </span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">ctrl + b + arrow <span class="c1"># switch pane focus</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">ctrl + b + x <span class="c1"># close pane</span>
</span></span></code></pre></td></tr></table>
</div>
</div><h2 id="tqdm-to-file-for-long-run-jobs">tqdm to file for long-run jobs<a aria-hidden="true" class="anchor" hidden="" href="#tqdm-to-file-for-long-run-jobs">#</a></h2>
<ul>
<li>when you want to have a long-run jupyter and you cannot directly use tqdm to monitor. Every time you want to reconnect to the jupyter kernel, the tqdm progress bar will be cleared.</li>
<li>to solve this, you need to store it to file</li>
<li>also for long-run jobs, always save your data regularly</li>
</ul>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma" tabindex="0"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span></code></pre></td>
<td class="lntd">
<pre class="chroma" tabindex="0"><code class="language-python" data-lang="python"><span class="line"><span class="cl"><span class="c1"># example</span>
</span></span><span class="line"><span class="cl"><span class="kn">from</span> <span class="nn">tqdm</span> <span class="kn">import</span> <span class="n">tqdm</span>
</span></span><span class="line"><span class="cl"><span class="n">a_dict</span> <span class="o">=</span> <span class="nb">dict</span><span class="p">()</span>
</span></span><span class="line"><span class="cl"><span class="n">save_interval</span> <span class="o">=</span> <span class="mi">20000</span>
</span></span><span class="line"><span class="cl"><span class="n">a_dict_count</span> <span class="o">=</span> <span class="nb">len</span><span class="p">(</span><span class="n">a_dict</span><span class="p">)</span>
</span></span><span class="line"><span class="cl"><span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="s1">'preprocess_log.txt'</span><span class="p">,</span> <span class="s1">'w'</span><span class="p">)</span> <span class="k">as</span> <span class="n">log_f</span><span class="p">:</span>
</span></span><span class="line"><span class="cl">    <span class="k">for</span> <span class="n">key</span><span class="p">,</span> <span class="n">val</span> <span class="ow">in</span> <span class="n">tqdm</span><span class="p">(</span><span class="n">b_dict</span><span class="o">.</span><span class="n">items</span><span class="p">(),</span> <span class="n">file</span><span class="o">=</span><span class="n">log_f</span><span class="p">,</span> <span class="n">mininterval</span><span class="o">=</span><span class="mi">3</span><span class="p">):</span>
</span></span><span class="line"><span class="cl">        <span class="c1"># temp save </span>
</span></span><span class="line"><span class="cl">        <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">a_dict</span><span class="p">)</span> <span class="o">%</span> <span class="n">save_interval</span> <span class="o">==</span> <span class="mi">0</span><span class="p">:</span>
</span></span><span class="line"><span class="cl">            <span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="s1">'a_dict.pkl'</span><span class="p">,</span> <span class="s1">'wb'</span><span class="p">)</span> <span class="k">as</span> <span class="n">save_f</span><span class="p">:</span>
</span></span><span class="line"><span class="cl">                <span class="n">pickle</span><span class="o">.</span><span class="n">dump</span><span class="p">(</span><span class="n">a_dict</span><span class="p">,</span> <span class="n">save_f</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">        <span class="k">if</span> <span class="n">key</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">a_dict</span><span class="p">:</span>
</span></span><span class="line"><span class="cl">            <span class="n">a_dict</span><span class="p">[</span><span class="n">key</span><span class="p">]</span> <span class="o">=</span> <span class="n">extract_info</span><span class="p">(</span><span class="n">val</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">            <span class="k">assert</span> <span class="nb">len</span><span class="p">(</span><span class="n">a_dict</span><span class="p">)</span> <span class="o">==</span> <span class="n">a_dict_count</span> <span class="o">+</span> <span class="mi">1</span>
</span></span><span class="line"><span class="cl">            <span class="n">a_dict_count</span> <span class="o">=</span> <span class="nb">len</span><span class="p">(</span><span class="n">a_dict</span><span class="p">)</span>
</span></span></code></pre></td></tr></table>
</div>
</div><h2 id="joshuto---advanced-terminal-file-manager">Joshuto - advanced terminal file manager<a aria-hidden="true" class="anchor" hidden="" href="#joshuto---advanced-terminal-file-manager">#</a></h2>
<ul>
<li>you want a good file manager when you are in cli, joshuto is what you want.</li>
</ul>
<p><a href="https://github.com/kamiyaa/joshuto">https://github.com/kamiyaa/joshuto</a></p>
<ul>
<li>useful shortcuts</li>
</ul>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma" tabindex="0"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span><span class="lnt">20
</span><span class="lnt">21
</span><span class="lnt">22
</span></code></pre></td>
<td class="lntd">
<pre class="chroma" tabindex="0"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">yy 	<span class="c1"># copy </span>
</span></span><span class="line"><span class="cl">zh 	<span class="c1"># show hidden files </span>
</span></span><span class="line"><span class="cl">dD 	<span class="c1"># delete </span>
</span></span><span class="line"><span class="cl">dd 	<span class="c1"># cut </span>
</span></span><span class="line"><span class="cl">pp 	<span class="c1"># paste </span>
</span></span><span class="line"><span class="cl">cw 	<span class="c1"># change name </span>
</span></span><span class="line"><span class="cl">S 	<span class="c1"># open current repository in shell, </span>
</span></span><span class="line"><span class="cl">  	<span class="c1"># need to edit ~/.config/joshuto/keymap.toml</span>
</span></span><span class="line"><span class="cl">space 	<span class="c1"># toggle</span>
</span></span><span class="line"><span class="cl">ctrl + u/d 	<span class="c1"># move cursor half window</span>
</span></span><span class="line"><span class="cl">ft 	<span class="c1"># touch</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">bb 	<span class="c1"># bulk rename </span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1"># vim shortcuts for bulk name </span>
</span></span><span class="line"><span class="cl"><span class="c1"># check cheatsheet https://vim.rtorr.com/</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">ctrl + v 	<span class="c1"># visual block mode </span>
</span></span><span class="line"><span class="cl">I 				<span class="c1"># insert at the begining of the line </span>
</span></span><span class="line"><span class="cl">&lt;write_your_text&gt; <span class="c1"># in insert mode you can write your stuffs</span>
</span></span><span class="line"><span class="cl">esc 			<span class="c1"># escape</span>
</span></span><span class="line"><span class="cl"><span class="c1"># use arrow rather than hjkl as it's 21st century bro!</span>
</span></span></code></pre></td></tr></table>
</div>
</div><h2 id="bind-port-in-ssh">Bind port in ssh<a aria-hidden="true" class="anchor" hidden="" href="#bind-port-in-ssh">#</a></h2>
<p>sometime you want to bind port between local client and remote server</p>
<p>here is the command</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma" tabindex="0"><code><span class="lnt">1
</span><span class="lnt">2
</span></code></pre></td>
<td class="lntd">
<pre class="chroma" tabindex="0"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl"><span class="c1"># check https://explainshell.com/explain?cmd=ssh+-NL</span>
</span></span><span class="line"><span class="cl">ssh -NL 
</span></span></code></pre></td></tr></table>
</div>
</div><p><img alt="image-20230716191547933" loading="lazy" src="/programming-notes/remote-server-and-tmux-2023/image-assets/image-20230716191547933.png"/></p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma" tabindex="0"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span><span class="lnt">6
</span></code></pre></td>
<td class="lntd">
<pre class="chroma" tabindex="0"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">ssh -NL local_port:remote_destination:remote_port user@ssh_server
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1"># for jupyter server </span>
</span></span><span class="line"><span class="cl">jupyter-lab --no-browser --port &lt;remote_port&gt;
</span></span><span class="line"><span class="cl"><span class="c1"># then please remember the token </span>
</span></span><span class="line"><span class="cl">ssh -NL &lt;port&gt;:localhost:&lt;remote_port&gt; user@ssh_server
</span></span></code></pre></td></tr></table>
</div>
</div>
</div>
</main>
<footer class="footer">
<span>© 2024 <a href="https://sino-huang.github.io/">Sukai Huang</a></span> · 

    <span>
        Powered by
        <a href="https://gohugo.io/" rel="noopener noreferrer" target="_blank">Hugo</a> &amp;
        <a href="https://github.com/adityatelange/hugo-PaperMod/" rel="noopener" target="_blank">PaperMod</a>
</span>
</footer>
<a accesskey="g" aria-label="go to top" class="top-link" href="#top" id="top-link" title="Go to Top (Alt + G)">
<svg fill="currentColor" viewbox="0 0 12 6" xmlns="http://www.w3.org/2000/svg">
<path d="M12 6H0l6-6z"></path>
</svg>
</a>
<script>
    let menu = document.getElementById('menu')
    if (menu) {
        menu.scrollLeft = localStorage.getItem("menu-scroll-position");
        menu.onscroll = function () {
            localStorage.setItem("menu-scroll-position", menu.scrollLeft);
        }
    }

    document.querySelectorAll('a[href^="#"]').forEach(anchor => {
        anchor.addEventListener("click", function (e) {
            e.preventDefault();
            var id = this.getAttribute("href").substr(1);
            if (!window.matchMedia('(prefers-reduced-motion: reduce)').matches) {
                document.querySelector(`[id='${decodeURIComponent(id)}']`).scrollIntoView({
                    behavior: "smooth"
                });
            } else {
                document.querySelector(`[id='${decodeURIComponent(id)}']`).scrollIntoView();
            }
            if (id === "top") {
                history.replaceState(null, null, " ");
            } else {
                history.pushState(null, null, `#${id}`);
            }
        });
    });

</script>
<script>
    var mybutton = document.getElementById("top-link");
    window.onscroll = function () {
        if (document.body.scrollTop > 800 || document.documentElement.scrollTop > 800) {
            mybutton.style.visibility = "visible";
            mybutton.style.opacity = "1";
        } else {
            mybutton.style.visibility = "hidden";
            mybutton.style.opacity = "0";
        }
    };

</script>
<script>
    document.getElementById("theme-toggle").addEventListener("click", () => {
        if (document.body.className.includes("dark")) {
            document.body.classList.remove('dark');
            localStorage.setItem("pref-theme", 'light');
        } else {
            document.body.classList.add('dark');
            localStorage.setItem("pref-theme", 'dark');
        }
    })

</script>
</body>
</html>
