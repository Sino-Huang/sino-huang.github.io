<!DOCTYPE html>
<html dir="auto" lang="en">
<head><meta charset="utf-8"/>
<meta content="IE=edge" http-equiv="X-UA-Compatible"/>
<meta content="width=device-width, initial-scale=1, shrink-to-fit=no" name="viewport"/>
<meta content="index, follow" name="robots"/>
<title>Harsh_jhamtani Natural Language Decomposition and Interpretation of Complex Utterances 2023 | Sukai Huang</title>
<meta content="natural language understanding, future work" name="keywords"/>
<meta content="[TOC]

Title: Natural Language Decomposition and Interpretation of Complex Utterances
Author: Jacob Andreas
Publish Year: 15 May 2023
Review Date: Mon, May 22, 2023
url: https://arxiv.org/pdf/2305.08677.pdf

Summary of paper

Motivation

natural language interface often require supervised data to translate user request into structure intent representations
however, during data collection, it can be difficult to anticipate and formalise the full range of user needs
we introduce an approach for equipping a simple language to code model to handle complex utterances via a process of hierarchical natural language decomposition.

Contribution

Experiments show that the proposed approach enables the interpretation of complex utterances with almost no complex training data, while outperforming standard few-shot prompting approaches.

Some key terms
Methodology" name="description"/>
<meta content="Sukai Huang" name="author"/>
<link href="https://sino-huang.github.io/posts/harsh_jhamtani-natural-language-decomposition-and-interpretation-of-complex-utterances-2023/" rel="canonical"/>
<meta content="IFgzhtDTVCjONQMwQsBfuf0ZyHdzUR5WFYzbWsf2Gf8" name="google-site-verification"/>
<link as="style" crossorigin="anonymous" href="/assets/css/stylesheet.d6fcd20a4fb86efa4dfac8ec95da60244cc8871042183da1ef28e3a762ad79c8.css" integrity="sha256-1vzSCk+4bvpN+sjsldpgJEzIhxBCGD2h7yjjp2Ktecg=" rel="preload stylesheet"/>
<link href="https://sino-huang.github.io/favicon.ico" rel="icon"/>
<link href="https://sino-huang.github.io/favicon-16x16.png" rel="icon" sizes="16x16" type="image/png"/>
<link href="https://sino-huang.github.io/favicon-32x32.png" rel="icon" sizes="32x32" type="image/png"/>
<link href="https://sino-huang.github.io/apple-touch-icon.png" rel="apple-touch-icon"/>
<link href="https://sino-huang.github.io/safari-pinned-tab.svg" rel="mask-icon"/>
<meta content="#2e2e33" name="theme-color"/>
<meta content="#2e2e33" name="msapplication-TileColor"/>
<link href="https://sino-huang.github.io/posts/harsh_jhamtani-natural-language-decomposition-and-interpretation-of-complex-utterances-2023/index.xml" rel="alternate" type="application/rss+xml"/>
<link href="https://sino-huang.github.io/posts/harsh_jhamtani-natural-language-decomposition-and-interpretation-of-complex-utterances-2023/" hreflang="en" rel="alternate"/>
<noscript>
<style>
        #theme-toggle,
        .top-link {
            display: none;
        }

    </style>
<style>
        @media (prefers-color-scheme: dark) {
            :root {
                --theme: rgb(29, 30, 32);
                --entry: rgb(46, 46, 51);
                --primary: rgb(218, 218, 219);
                --secondary: rgb(155, 156, 157);
                --tertiary: rgb(65, 66, 68);
                --content: rgb(196, 196, 197);
                --code-block-bg: rgb(46, 46, 51);
                --code-bg: rgb(55, 56, 62);
                --border: rgb(51, 51, 51);
            }

            .list {
                background: var(--theme);
            }

            .list:not(.dark)::-webkit-scrollbar-track {
                background: 0 0;
            }

            .list:not(.dark)::-webkit-scrollbar-thumb {
                border-color: var(--theme);
            }
        }

    </style>
</noscript>
<script async="" src="https://www.googletagmanager.com/gtag/js?id=G-TTFTV1EWH5"></script>
<script>
        var doNotTrack = false;
        if ( false ) {
          var dnt = (navigator.doNotTrack || window.doNotTrack || navigator.msDoNotTrack);
          var doNotTrack = (dnt == "1" || dnt == "yes");
        }
        if (!doNotTrack) {
          window.dataLayer = window.dataLayer || [];
          function gtag(){dataLayer.push(arguments);}
          gtag('js', new Date());
          gtag('config', 'G-TTFTV1EWH5');
        }
      </script><meta content="https://sino-huang.github.io/posts/harsh_jhamtani-natural-language-decomposition-and-interpretation-of-complex-utterances-2023/" property="og:url"/>
<meta content="Sukai Huang" property="og:site_name"/>
<meta content="Harsh_jhamtani Natural Language Decomposition and Interpretation of Complex Utterances 2023" property="og:title"/>
<meta content="[TOC]
Title: Natural Language Decomposition and Interpretation of Complex Utterances Author: Jacob Andreas Publish Year: 15 May 2023 Review Date: Mon, May 22, 2023 url: https://arxiv.org/pdf/2305.08677.pdf Summary of paper Motivation natural language interface often require supervised data to translate user request into structure intent representations however, during data collection, it can be difficult to anticipate and formalise the full range of user needs we introduce an approach for equipping a simple language to code model to handle complex utterances via a process of hierarchical natural language decomposition. Contribution Experiments show that the proposed approach enables the interpretation of complex utterances with almost no complex training data, while outperforming standard few-shot prompting approaches. Some key terms Methodology" property="og:description"/>
<meta content="en" property="og:locale"/>
<meta content="website" property="og:type"/>
<meta content="https://sino-huang.github.io/posts/harsh_jhamtani-natural-language-decomposition-and-interpretation-of-complex-utterances-2023/image-assets/cover.png" property="og:image"/>
<meta content="summary_large_image" name="twitter:card"/>
<meta content="https://sino-huang.github.io/posts/harsh_jhamtani-natural-language-decomposition-and-interpretation-of-complex-utterances-2023/image-assets/cover.png" name="twitter:image"/>
<meta content="Harsh_jhamtani Natural Language Decomposition and Interpretation of Complex Utterances 2023" name="twitter:title"/>
<meta content="Sukai's academic blog - storing weekly reports and research paper reviews" name="twitter:description"/>
<script type="application/ld+json">
{
  "@context": "https://schema.org",
  "@type": "BreadcrumbList",
  "itemListElement": [
    {
      "@type": "ListItem",
      "position":  1 ,
      "name": "Posts",
      "item": "https://sino-huang.github.io/posts/"
    }, 
    {
      "@type": "ListItem",
      "position":  2 ,
      "name": "Harsh_jhamtani Natural Language Decomposition and Interpretation of Complex Utterances 2023",
      "item": "https://sino-huang.github.io/posts/harsh_jhamtani-natural-language-decomposition-and-interpretation-of-complex-utterances-2023/"
    }
  ]
}
</script>
</head>
<body class="list" id="top">
<script>
    if (localStorage.getItem("pref-theme") === "dark") {
        document.body.classList.add('dark');
    } else if (localStorage.getItem("pref-theme") === "light") {
        document.body.classList.remove('dark')
    } else if (window.matchMedia('(prefers-color-scheme: dark)').matches) {
        document.body.classList.add('dark');
    }

</script>
<header class="header">
<nav class="nav">
<div class="logo">
<a accesskey="h" href="https://sino-huang.github.io/" title="Sukai Huang (Alt + H)">Sukai Huang</a>
<div class="logo-switches">
<button accesskey="t" id="theme-toggle" title="(Alt + T)">
<svg fill="none" height="18" id="moon" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" viewbox="0 0 24 24" width="24" xmlns="http://www.w3.org/2000/svg">
<path d="M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z"></path>
</svg>
<svg fill="none" height="18" id="sun" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" viewbox="0 0 24 24" width="24" xmlns="http://www.w3.org/2000/svg">
<circle cx="12" cy="12" r="5"></circle>
<line x1="12" x2="12" y1="1" y2="3"></line>
<line x1="12" x2="12" y1="21" y2="23"></line>
<line x1="4.22" x2="5.64" y1="4.22" y2="5.64"></line>
<line x1="18.36" x2="19.78" y1="18.36" y2="19.78"></line>
<line x1="1" x2="3" y1="12" y2="12"></line>
<line x1="21" x2="23" y1="12" y2="12"></line>
<line x1="4.22" x2="5.64" y1="19.78" y2="18.36"></line>
<line x1="18.36" x2="19.78" y1="5.64" y2="4.22"></line>
</svg>
</button>
</div>
</div>
<ul id="menu">
<li>
<a href="https://sino-huang.github.io/biography/" title="Biography">
<span>Biography</span>
</a>
</li>
<li>
<a href="https://sino-huang.github.io/archives" title="Archive">
<span>Archive</span>
</a>
</li>
<li>
<a href="https://sino-huang.github.io/tags/" title="Tags">
<span>Tags</span>
</a>
</li>
<li>
<a href="https://sino-huang.github.io/categories/" title="Categories">
<span>Categories</span>
</a>
</li>
<li>
<a accesskey="/" href="https://sino-huang.github.io/search/" title="Search (Alt + /)">
<span>Search</span>
</a>
</li>
</ul>
</nav>
</header>
<main class="main">
<header class="page-header"><div class="breadcrumbs"><a href="https://sino-huang.github.io/">Home</a> » <a href="https://sino-huang.github.io/posts/">Posts</a></div>
<h1>
    Harsh_jhamtani Natural Language Decomposition and Interpretation of Complex Utterances 2023
    <a aria-label="RSS" href="/posts/harsh_jhamtani-natural-language-decomposition-and-interpretation-of-complex-utterances-2023/index.xml" title="RSS">
<svg fill="none" height="23" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
<path d="M4 11a9 9 0 0 1 9 9"></path>
<path d="M4 4a16 16 0 0 1 16 16"></path>
<circle cx="5" cy="19" r="1"></circle>
</svg>
</a>
</h1>
</header>
<div class="post-content"><p>[TOC]</p>
<ol>
<li>Title: Natural Language Decomposition and Interpretation of Complex Utterances</li>
<li>Author: Jacob Andreas</li>
<li>Publish Year: 15 May 2023</li>
<li>Review Date: Mon, May 22, 2023</li>
<li>url: <a href="https://arxiv.org/pdf/2305.08677.pdf">https://arxiv.org/pdf/2305.08677.pdf</a></li>
</ol>
<h2 id="summary-of-paper">Summary of paper<a aria-hidden="true" class="anchor" hidden="" href="#summary-of-paper">#</a></h2>
<p><img alt="image-20230522105001304" loading="lazy" src="/posts/harsh_jhamtani-natural-language-decomposition-and-interpretation-of-complex-utterances-2023/image-assets/cover.png"/></p>
<h3 id="motivation">Motivation<a aria-hidden="true" class="anchor" hidden="" href="#motivation">#</a></h3>
<ul>
<li>natural language interface often require supervised data to translate user request into structure intent representations</li>
<li>however, during data collection, it can be difficult to anticipate and formalise the full range of user needs</li>
<li>we introduce an approach for equipping a simple language to code model to handle complex utterances via a process of hierarchical natural language decomposition.</li>
</ul>
<h3 id="contribution">Contribution<a aria-hidden="true" class="anchor" hidden="" href="#contribution">#</a></h3>
<ul>
<li>Experiments show that the proposed approach enables the interpretation of complex utterances with almost no complex training data, while outperforming standard few-shot prompting approaches.</li>
</ul>
<h3 id="some-key-terms">Some key terms<a aria-hidden="true" class="anchor" hidden="" href="#some-key-terms">#</a></h3>
<p><strong>Methodology</strong></p>
<ul>
<li>an approach called DECOMP, which decomposes complex utterances into
a sequence of simpler natural language steps, each resembling an elementary utterance that an existing parser can handle, then uses this parser to map each elementary utterance to a sub-program.</li>
</ul>
<h2 id="good-things-about-the-paper-one-paragraph">Good things about the paper (one paragraph)<a aria-hidden="true" class="anchor" hidden="" href="#good-things-about-the-paper-one-paragraph">#</a></h2>
<ul>
<li>
<p>introduce new dataset that map utterances to programs : DeCU</p>
</li>
<li>
<p><img alt="image-20230522110105056" loading="lazy" src="/posts/harsh_jhamtani-natural-language-decomposition-and-interpretation-of-complex-utterances-2023/image-assets/image-20230522110105056.png"/></p>
</li>
<li>
<p>DeCU contains 872 elementary utterances paired with programs.</p>
</li>
</ul>
<h3 id="example-prompt">Example prompt<a aria-hidden="true" class="anchor" hidden="" href="#example-prompt">#</a></h3>
<ul>
<li>Top of the prompt is elementary utterances similar to the task</li>
<li>Bottom of the prompt is the complex utterance decomposition examples
<ul>
<li>the decomposition examples provide a demonstration of how to generate program fragments for a step conditioned on previous steps and help bridge any possible domain shift from elementary to complex utterances.</li>
</ul>
</li>
</ul>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma" tabindex="0"><code><span class="lnt">  1
</span><span class="lnt">  2
</span><span class="lnt">  3
</span><span class="lnt">  4
</span><span class="lnt">  5
</span><span class="lnt">  6
</span><span class="lnt">  7
</span><span class="lnt">  8
</span><span class="lnt">  9
</span><span class="lnt"> 10
</span><span class="lnt"> 11
</span><span class="lnt"> 12
</span><span class="lnt"> 13
</span><span class="lnt"> 14
</span><span class="lnt"> 15
</span><span class="lnt"> 16
</span><span class="lnt"> 17
</span><span class="lnt"> 18
</span><span class="lnt"> 19
</span><span class="lnt"> 20
</span><span class="lnt"> 21
</span><span class="lnt"> 22
</span><span class="lnt"> 23
</span><span class="lnt"> 24
</span><span class="lnt"> 25
</span><span class="lnt"> 26
</span><span class="lnt"> 27
</span><span class="lnt"> 28
</span><span class="lnt"> 29
</span><span class="lnt"> 30
</span><span class="lnt"> 31
</span><span class="lnt"> 32
</span><span class="lnt"> 33
</span><span class="lnt"> 34
</span><span class="lnt"> 35
</span><span class="lnt"> 36
</span><span class="lnt"> 37
</span><span class="lnt"> 38
</span><span class="lnt"> 39
</span><span class="lnt"> 40
</span><span class="lnt"> 41
</span><span class="lnt"> 42
</span><span class="lnt"> 43
</span><span class="lnt"> 44
</span><span class="lnt"> 45
</span><span class="lnt"> 46
</span><span class="lnt"> 47
</span><span class="lnt"> 48
</span><span class="lnt"> 49
</span><span class="lnt"> 50
</span><span class="lnt"> 51
</span><span class="lnt"> 52
</span><span class="lnt"> 53
</span><span class="lnt"> 54
</span><span class="lnt"> 55
</span><span class="lnt"> 56
</span><span class="lnt"> 57
</span><span class="lnt"> 58
</span><span class="lnt"> 59
</span><span class="lnt"> 60
</span><span class="lnt"> 61
</span><span class="lnt"> 62
</span><span class="lnt"> 63
</span><span class="lnt"> 64
</span><span class="lnt"> 65
</span><span class="lnt"> 66
</span><span class="lnt"> 67
</span><span class="lnt"> 68
</span><span class="lnt"> 69
</span><span class="lnt"> 70
</span><span class="lnt"> 71
</span><span class="lnt"> 72
</span><span class="lnt"> 73
</span><span class="lnt"> 74
</span><span class="lnt"> 75
</span><span class="lnt"> 76
</span><span class="lnt"> 77
</span><span class="lnt"> 78
</span><span class="lnt"> 79
</span><span class="lnt"> 80
</span><span class="lnt"> 81
</span><span class="lnt"> 82
</span><span class="lnt"> 83
</span><span class="lnt"> 84
</span><span class="lnt"> 85
</span><span class="lnt"> 86
</span><span class="lnt"> 87
</span><span class="lnt"> 88
</span><span class="lnt"> 89
</span><span class="lnt"> 90
</span><span class="lnt"> 91
</span><span class="lnt"> 92
</span><span class="lnt"> 93
</span><span class="lnt"> 94
</span><span class="lnt"> 95
</span><span class="lnt"> 96
</span><span class="lnt"> 97
</span><span class="lnt"> 98
</span><span class="lnt"> 99
</span><span class="lnt">100
</span><span class="lnt">101
</span><span class="lnt">102
</span><span class="lnt">103
</span><span class="lnt">104
</span><span class="lnt">105
</span><span class="lnt">106
</span><span class="lnt">107
</span><span class="lnt">108
</span><span class="lnt">109
</span><span class="lnt">110
</span><span class="lnt">111
</span><span class="lnt">112
</span><span class="lnt">113
</span><span class="lnt">114
</span><span class="lnt">115
</span><span class="lnt">116
</span><span class="lnt">117
</span><span class="lnt">118
</span><span class="lnt">119
</span><span class="lnt">120
</span><span class="lnt">121
</span><span class="lnt">122
</span><span class="lnt">123
</span><span class="lnt">124
</span><span class="lnt">125
</span><span class="lnt">126
</span><span class="lnt">127
</span><span class="lnt">128
</span><span class="lnt">129
</span><span class="lnt">130
</span><span class="lnt">131
</span><span class="lnt">132
</span><span class="lnt">133
</span><span class="lnt">134
</span><span class="lnt">135
</span><span class="lnt">136
</span><span class="lnt">137
</span><span class="lnt">138
</span><span class="lnt">139
</span><span class="lnt">140
</span><span class="lnt">141
</span><span class="lnt">142
</span><span class="lnt">143
</span><span class="lnt">144
</span><span class="lnt">145
</span></code></pre></td>
<td class="lntd">
<pre class="chroma" tabindex="0"><code class="language-scala" data-lang="scala"><span class="line"><span class="cl"><span class="nc">Utterance</span> <span class="k">:</span> <span class="kt">Find</span> <span class="kt">all</span> <span class="kt">meetings</span> <span class="kt">happening</span> <span class="kt">this</span> <span class="kt">week</span>
</span></span><span class="line"><span class="cl"><span class="nc">Program</span> <span class="k">:</span> <span class="kt">val</span> <span class="kt">s1</span> <span class="o">=</span> <span class="n">findEvents</span> <span class="o">(</span> <span class="n">queryAt</span> <span class="o">(</span><span class="n">` this `</span><span class="o">[</span> <span class="kt">Interval</span> <span class="o">[</span> <span class="kt">Date</span> <span class="o">]]</span> <span class="n">and</span> <span class="n">isWeek</span> <span class="o">))</span>
</span></span><span class="line"><span class="cl"><span class="o">&lt;</span><span class="nc">EOS</span> <span class="o">&gt;</span>
</span></span><span class="line"><span class="cl"><span class="nc">Utterance</span> <span class="k">:</span> <span class="kt">How</span> <span class="kt">many</span> <span class="kt">days</span> <span class="kt">in</span> <span class="kt">the</span> <span class="kt">next</span> <span class="kt">week</span> <span class="kt">do</span> <span class="kt">I</span> <span class="kt">have</span> <span class="kt">meetings</span> <span class="kt">?</span>
</span></span><span class="line"><span class="cl"><span class="nc">Program</span> <span class="k">:</span> <span class="kt">val</span> <span class="kt">s</span> <span class="o">=</span> <span class="nc">List</span> <span class="o">[</span> <span class="kt">DayOfWeek</span> <span class="o">](</span> <span class="nc">Sunday</span> <span class="o">,</span> <span class="nc">Monday</span> <span class="o">,</span> <span class="nc">Tuesday</span> <span class="o">,</span> <span class="nc">Wednesday</span> <span class="o">,</span> <span class="nc">Thursday</span> <span class="o">,</span> <span class="nc">Friday</span> <span class="o">,</span> <span class="nc">Saturday</span> <span class="o">).</span> <span class="n">filter</span> <span class="o">(</span> <span class="n">day</span> <span class="k">=</span> <span class="o">&gt;</span> <span class="n">findEvents</span> <span class="o">(</span> <span class="n">queryAt</span> <span class="o">(</span> <span class="n">day</span> <span class="o">/&amp;</span> <span class="o">(</span> <span class="n">next</span> <span class="o">[</span> <span class="kt">Interval</span> <span class="o">[</span> <span class="kt">Date</span> <span class="o">]]</span> <span class="n">and</span> <span class="n">isWeek</span> <span class="o">))).</span> <span class="n">nonEmpty</span> <span class="o">).</span> <span class="n">size</span>
</span></span><span class="line"><span class="cl"><span class="o">&lt;</span><span class="nc">EOS</span> <span class="o">&gt;</span>
</span></span><span class="line"><span class="cl"><span class="nc">Utterance</span> <span class="k">:</span> <span class="kt">Find</span> <span class="kt">the</span> <span class="kt">All</span> <span class="kt">hands</span> <span class="kt">that</span> <span class="kt">is</span> <span class="kt">on</span> <span class="kt">next</span> <span class="kt">Monday</span> <span class="kt">.</span>
</span></span><span class="line"><span class="cl"><span class="kt">Program</span> <span class="kt">:</span> <span class="kt">val</span> <span class="kt">s2</span> <span class="o">=</span> <span class="n">theEvent</span> <span class="o">(</span> <span class="n">called</span> <span class="o">(</span><span class="s">" All hands "</span><span class="o">)</span> <span class="n">and</span> <span class="n">queryAt</span> <span class="o">(</span> <span class="n">theDate</span> <span class="o">(</span> <span class="n">next</span> <span class="o">[</span> <span class="kt">Date</span> <span class="o">]</span> <span class="o">/&amp;</span> <span class="nc">Monday</span> <span class="o">)))</span>
</span></span><span class="line"><span class="cl"><span class="o">&lt;</span><span class="nc">EOS</span> <span class="o">&gt;</span>
</span></span><span class="line"><span class="cl"><span class="nc">Utterance</span> <span class="k">:</span> <span class="kt">Who</span> <span class="kt">all</span> <span class="kt">are</span> <span class="kt">on</span> <span class="kt">the</span> <span class="kt">Vacation</span> <span class="kt">meet</span> <span class="kt">?</span>
</span></span><span class="line"><span class="cl"><span class="nc">Program</span> <span class="k">:</span> <span class="kt">val</span> <span class="kt">s</span> <span class="o">=</span> <span class="n">theEvent</span> <span class="o">(</span> <span class="n">called</span> <span class="o">(</span><span class="s">" Vacation "</span><span class="o">)).</span> <span class="n">attendees</span> <span class="o">.</span> <span class="n">all</span>
</span></span><span class="line"><span class="cl"><span class="o">&lt;</span><span class="nc">EOS</span> <span class="o">&gt;</span>
</span></span><span class="line"><span class="cl"><span class="nc">Utterance</span> <span class="k">:</span> <span class="kt">Reschedule</span> <span class="kt">all</span> <span class="kt">of</span> <span class="kt">list</span> <span class="kt">s2</span> <span class="kt">to</span> <span class="kt">next</span> <span class="kt">week</span>
</span></span><span class="line"><span class="cl"><span class="nc">Program</span> <span class="k">:</span> <span class="kt">val</span> <span class="kt">s3</span> <span class="o">=</span> <span class="n">s2</span> <span class="o">.</span> <span class="n">map</span> <span class="o">(</span><span class="n">x</span> <span class="k">=</span> <span class="o">&gt;</span> <span class="n">modifyEvent</span> <span class="o">(</span><span class="n">x</span> <span class="o">,</span> <span class="n">startsAt</span> <span class="o">((</span> <span class="n">next</span> <span class="o">[</span> <span class="kt">Interval</span> <span class="o">[</span> <span class="kt">Date</span> <span class="o">]]</span> <span class="n">and</span> <span class="n">isWeek</span> <span class="o">))))</span>
</span></span><span class="line"><span class="cl"><span class="o">&lt;</span><span class="nc">EOS</span> <span class="o">&gt;</span>
</span></span><span class="line"><span class="cl"><span class="nc">Utterance</span> <span class="k">:</span> <span class="kt">Create</span> <span class="kt">a</span> <span class="kt">list</span> <span class="kt">of</span> <span class="kt">the</span> <span class="kt">days</span> <span class="kt">in</span> <span class="kt">a</span> <span class="kt">week</span>
</span></span><span class="line"><span class="cl"><span class="nc">Program</span> <span class="k">:</span> <span class="kt">val</span> <span class="kt">s1</span> <span class="o">=</span> <span class="nc">List</span> <span class="o">[</span> <span class="kt">DayOfWeek</span> <span class="o">](</span> <span class="nc">Monday</span> <span class="o">,</span> <span class="nc">Tuesday</span> <span class="o">,</span> <span class="nc">Wednesday</span> <span class="o">,</span> <span class="nc">Thursday</span> <span class="o">,</span> <span class="nc">Friday</span> <span class="o">,</span> <span class="nc">Saturday</span> <span class="o">,</span> <span class="nc">Sunday</span> <span class="o">)</span>
</span></span><span class="line"><span class="cl"><span class="o">&lt;</span><span class="nc">EOS</span> <span class="o">&gt;</span>
</span></span><span class="line"><span class="cl"><span class="nc">Utterance</span> <span class="k">:</span> <span class="kt">Do</span> <span class="kt">we</span> <span class="kt">have</span> <span class="kt">vacation</span> <span class="kt">all</span> <span class="kt">day</span> <span class="kt">this</span> <span class="kt">time</span> <span class="kt">?</span>
</span></span><span class="line"><span class="cl"><span class="nc">Program</span> <span class="k">:</span> <span class="kt">val</span> <span class="kt">s</span> <span class="o">=</span> <span class="n">theEvent</span> <span class="o">(</span> <span class="n">called</span> <span class="o">(</span><span class="s">" vacation "</span><span class="o">)).</span> <span class="n">isAllDay</span>
</span></span><span class="line"><span class="cl"><span class="o">&lt;</span><span class="nc">EOS</span> <span class="o">&gt;</span>
</span></span><span class="line"><span class="cl"><span class="nc">Utterance</span> <span class="k">:</span> <span class="kt">Find</span> <span class="kt">event</span> <span class="kt">next</span> <span class="kt">week</span> <span class="kt">titled</span> <span class="err">'</span> <span class="kt">sync</span> <span class="kt">call</span> <span class="err">'</span>
</span></span><span class="line"><span class="cl"><span class="kt">Program</span> <span class="kt">:</span> <span class="kt">val</span> <span class="kt">s1</span> <span class="o">=</span> <span class="n">theEvent</span> <span class="o">(</span> <span class="n">called</span> <span class="o">(</span><span class="s">" sync call "</span><span class="o">)</span> <span class="n">and</span> <span class="n">queryAt</span> <span class="o">(</span> <span class="n">next</span> <span class="o">[</span> <span class="kt">Interval</span> <span class="o">[</span> <span class="kt">Date</span> <span class="o">]]</span> <span class="n">and</span> <span class="n">isWeek</span> <span class="o">))</span>
</span></span><span class="line"><span class="cl"><span class="o">&lt;</span><span class="nc">EOS</span> <span class="o">&gt;</span>
</span></span><span class="line"><span class="cl"><span class="nc">Utterance</span> <span class="k">:</span> <span class="kt">Find</span> <span class="kt">all</span> <span class="kt">meetings</span> <span class="kt">with</span> <span class="kt">my</span> <span class="kt">reports</span> <span class="kt">this</span> <span class="kt">week</span> <span class="kt">that</span> <span class="kt">are</span> <span class="kt">an</span> <span class="kt">hour</span> <span class="kt">long</span> <span class="kt">.</span>
</span></span><span class="line"><span class="cl"><span class="kt">Program</span> <span class="kt">:</span> <span class="kt">val</span> <span class="kt">s1</span> <span class="o">=</span> <span class="n">findEvents</span> <span class="o">(</span> <span class="n">with_</span> <span class="o">(</span> <span class="n">me</span> <span class="o">.</span> <span class="n">directReports</span> <span class="o">)</span> <span class="n">and</span> <span class="n">queryAt</span> <span class="o">(</span><span class="n">` this `</span><span class="o">[</span> <span class="kt">Interval</span> <span class="o">[</span> <span class="kt">Date</span> <span class="o">]]</span> <span class="n">and</span> <span class="n">isWeek</span> <span class="o">)</span> <span class="n">and</span> <span class="n">lastsFor</span> <span class="o">(</span><span class="mf">1.</span> <span class="n">hours</span> <span class="o">))</span>
</span></span><span class="line"><span class="cl"><span class="o">&lt;</span><span class="nc">EOS</span> <span class="o">&gt;</span>
</span></span><span class="line"><span class="cl"><span class="nc">Utterance</span> <span class="k">:</span> <span class="kt">Find</span> <span class="kt">all</span> <span class="kt">meetings</span> <span class="kt">on</span> <span class="kt">Monday</span> <span class="kt">.</span>
</span></span><span class="line"><span class="cl"><span class="kt">Program</span> <span class="kt">:</span> <span class="kt">val</span> <span class="kt">s1</span> <span class="o">=</span> <span class="n">findEvents</span> <span class="o">(</span> <span class="n">queryAt</span> <span class="o">(</span> <span class="nc">Monday</span> <span class="o">)).</span> <span class="n">head</span>
</span></span><span class="line"><span class="cl"><span class="o">&lt;</span><span class="nc">EOS</span> <span class="o">&gt;</span>
</span></span><span class="line"><span class="cl"><span class="nc">Utterance</span> <span class="k">:</span> <span class="kt">Find</span> <span class="kt">all</span> <span class="kt">meetings</span> <span class="kt">on</span> <span class="kt">Tuesday</span> <span class="kt">.</span>
</span></span><span class="line"><span class="cl"><span class="kt">Program</span> <span class="kt">:</span> <span class="kt">val</span> <span class="kt">s2</span> <span class="o">=</span> <span class="n">findEvents</span> <span class="o">(</span> <span class="n">queryAt</span> <span class="o">(</span> <span class="nc">Tuesday</span> <span class="o">)).</span> <span class="n">head</span>
</span></span><span class="line"><span class="cl"><span class="o">&lt;</span><span class="nc">EOS</span> <span class="o">&gt;</span>
</span></span><span class="line"><span class="cl"><span class="nc">Utterance</span> <span class="k">:</span> <span class="kt">Find</span> <span class="kt">all</span> <span class="kt">meetings</span> <span class="kt">on</span> <span class="kt">calendar</span>
</span></span><span class="line"><span class="cl"><span class="nc">Program</span> <span class="k">:</span> <span class="kt">val</span> <span class="kt">s1</span> <span class="o">=</span> <span class="n">findEvents0</span>
</span></span><span class="line"><span class="cl"><span class="o">&lt;</span><span class="nc">EOS</span> <span class="o">&gt;</span>
</span></span><span class="line"><span class="cl"><span class="nc">Utterance</span> <span class="k">:</span> <span class="kt">Find</span> <span class="kt">all</span> <span class="kt">of</span> <span class="kt">the</span> <span class="kt">user</span> <span class="err">'</span><span class="kt">s</span> <span class="kt">reports</span> <span class="kt">.</span>
</span></span><span class="line"><span class="cl"><span class="kt">Program</span> <span class="kt">:</span> <span class="kt">val</span> <span class="kt">s1</span> <span class="o">=</span> <span class="n">me</span> <span class="o">.</span> <span class="n">directReports</span>
</span></span><span class="line"><span class="cl"><span class="o">&lt;</span><span class="nc">EOS</span> <span class="o">&gt;</span>
</span></span><span class="line"><span class="cl"><span class="nc">Utterance</span> <span class="k">:</span> <span class="kt">Find</span> <span class="kt">all</span> <span class="kt">one</span> <span class="kt">on</span> <span class="kt">one</span> <span class="kt">events</span> <span class="kt">from</span> <span class="kt">last</span> <span class="kt">week</span> <span class="kt">and</span> <span class="kt">return</span> <span class="kt">the</span> <span class="kt">size</span> <span class="kt">of</span> <span class="kt">that</span> <span class="kt">list</span> <span class="kt">.</span>
</span></span><span class="line"><span class="cl"><span class="kt">Program</span> <span class="kt">:</span> <span class="kt">val</span> <span class="kt">s1</span> <span class="o">=</span> <span class="n">findEvents</span> <span class="o">(</span> <span class="n">queryAt</span> <span class="o">(</span> <span class="n">last</span> <span class="o">[</span> <span class="kt">Interval</span> <span class="o">[</span> <span class="kt">Date</span> <span class="o">]]</span> <span class="n">and</span> <span class="n">isWeek</span> <span class="o">)</span> <span class="n">and</span> <span class="n">isOneOnOne</span> <span class="o">).</span> <span class="n">size</span>
</span></span><span class="line"><span class="cl"><span class="o">&lt;</span><span class="nc">EOS</span> <span class="o">&gt;</span>
</span></span><span class="line"><span class="cl"><span class="nc">Utterance</span> <span class="k">:</span> <span class="kt">What</span> <span class="kt">do</span> <span class="kt">I</span> <span class="kt">have</span> <span class="kt">next</span> <span class="kt">week</span> <span class="kt">?</span>
</span></span><span class="line"><span class="cl"><span class="nc">Program</span> <span class="k">:</span> <span class="kt">val</span> <span class="kt">s</span> <span class="o">=</span> <span class="n">findEvents</span> <span class="o">(</span> <span class="n">queryAt</span> <span class="o">(</span> <span class="n">next</span> <span class="o">[</span> <span class="kt">Interval</span> <span class="o">[</span> <span class="kt">Date</span> <span class="o">]]</span> <span class="n">and</span> <span class="n">isWeek</span> <span class="o">))</span>
</span></span><span class="line"><span class="cl"><span class="o">&lt;</span><span class="nc">EOS</span> <span class="o">&gt;</span>
</span></span><span class="line"><span class="cl"><span class="nc">Utterance</span> <span class="k">:</span> <span class="kt">Find</span> <span class="kt">emails</span> <span class="kt">from</span> <span class="kt">last</span> <span class="kt">week</span>
</span></span><span class="line"><span class="cl"><span class="nc">Program</span> <span class="k">:</span> <span class="kt">val</span> <span class="kt">s</span> <span class="o">=</span> <span class="n">findEmails</span> <span class="o">(</span> <span class="n">messageSentAt</span> <span class="o">(</span> <span class="n">last</span> <span class="o">[</span> <span class="kt">Interval</span> <span class="o">[</span> <span class="kt">Date</span> <span class="o">]]</span> <span class="n">and</span> <span class="n">isWeek</span> <span class="o">))</span>
</span></span><span class="line"><span class="cl"><span class="o">&lt;</span><span class="nc">EOS</span> <span class="o">&gt;</span>
</span></span><span class="line"><span class="cl"><span class="nc">Utterance</span> <span class="k">:</span> <span class="kt">Find</span> <span class="kt">events</span> <span class="kt">with</span> <span class="kt">Abby</span> <span class="kt">this</span> <span class="kt">week</span>
</span></span><span class="line"><span class="cl"><span class="nc">Program</span> <span class="k">:</span> <span class="kt">val</span> <span class="kt">s1</span> <span class="o">=</span> <span class="n">findEvents</span> <span class="o">(</span> <span class="n">with_</span> <span class="o">(</span><span class="s">" Abby "</span><span class="o">)</span> <span class="n">and</span> <span class="n">queryAt</span> <span class="o">(</span><span class="n">` this `</span><span class="o">[</span> <span class="kt">Interval</span> <span class="o">[</span> <span class="kt">Date</span> <span class="o">]]</span> <span class="n">and</span> <span class="n">isWeek</span> <span class="o">))</span>
</span></span><span class="line"><span class="cl"><span class="o">&lt;</span><span class="nc">EOS</span> <span class="o">&gt;</span>
</span></span><span class="line"><span class="cl"><span class="nc">Utterance</span> <span class="k">:</span> <span class="kt">Find</span> <span class="kt">meeting</span> <span class="kt">with</span> <span class="kt">Hao</span> <span class="kt">this</span> <span class="kt">week</span> <span class="kt">.</span>
</span></span><span class="line"><span class="cl"><span class="kt">Program</span> <span class="kt">:</span> <span class="kt">val</span> <span class="kt">s1</span> <span class="o">=</span> <span class="n">theEvent</span> <span class="o">(</span> <span class="n">with_</span> <span class="o">(</span><span class="s">" Hao "</span><span class="o">)</span> <span class="n">and</span> <span class="n">queryAt</span> <span class="o">(</span><span class="n">` this `</span><span class="o">[</span> <span class="kt">Interval</span> <span class="o">[</span> <span class="kt">Date</span> <span class="o">]]</span> <span class="n">and</span> <span class="n">isWeek</span> <span class="o">))</span>
</span></span><span class="line"><span class="cl"><span class="o">&lt;</span><span class="nc">EOS</span> <span class="o">&gt;</span>
</span></span><span class="line"><span class="cl"><span class="nc">Utterance</span> <span class="k">:</span> <span class="kt">Find</span> <span class="kt">the</span> <span class="kt">next</span> <span class="kt">meeting</span> <span class="kt">with</span> <span class="kt">Jack</span>
</span></span><span class="line"><span class="cl"><span class="nc">Program</span> <span class="k">:</span> <span class="kt">val</span> <span class="kt">s1</span> <span class="o">=</span> <span class="n">theEvent</span> <span class="o">(</span> <span class="n">next</span> <span class="o">[</span> <span class="kt">Event</span> <span class="o">]</span> <span class="n">and</span> <span class="n">with_</span> <span class="o">(</span><span class="s">" Jack "</span><span class="o">)</span> <span class="o">)</span>
</span></span><span class="line"><span class="cl"><span class="o">&lt;</span><span class="nc">EOS</span> <span class="o">&gt;</span>
</span></span><span class="line"><span class="cl"><span class="nc">Utterance</span> <span class="k">:</span> <span class="kt">Find</span> <span class="kt">meetings</span> <span class="kt">called</span> <span class="kt">All</span> <span class="kt">-</span> <span class="kt">Hands</span> <span class="kt">.</span>
</span></span><span class="line"><span class="cl"><span class="kt">Program</span> <span class="kt">:</span> <span class="kt">val</span> <span class="kt">s</span> <span class="o">=</span> <span class="n">findEvents</span> <span class="o">(</span> <span class="n">called</span> <span class="o">(</span><span class="s">" All - Hands "</span><span class="o">)</span> <span class="o">)</span>
</span></span><span class="line"><span class="cl"><span class="o">&lt;</span><span class="nc">EOS</span> <span class="o">&gt;</span>
</span></span><span class="line"><span class="cl"><span class="nc">Utterance</span> <span class="k">:</span> <span class="kt">Find</span> <span class="kt">all</span> <span class="kt">events</span> <span class="kt">happening</span> <span class="kt">today</span>
</span></span><span class="line"><span class="cl"><span class="nc">Program</span> <span class="k">:</span> <span class="kt">val</span> <span class="kt">s2</span> <span class="o">=</span> <span class="n">findEvents</span> <span class="o">(</span> <span class="n">queryAt</span> <span class="o">(</span> <span class="n">today</span> <span class="o">))</span>
</span></span><span class="line"><span class="cl"><span class="o">&lt;</span><span class="nc">EOS</span> <span class="o">&gt;</span>
</span></span><span class="line"><span class="cl"><span class="nc">Utterance</span> <span class="k">:</span> <span class="kt">What</span> <span class="kt">all</span> <span class="kt">day</span> <span class="kt">events</span> <span class="kt">do</span> <span class="kt">I</span> <span class="kt">have</span> <span class="kt">this</span> <span class="kt">week</span> <span class="kt">?</span>
</span></span><span class="line"><span class="cl"><span class="nc">Program</span> <span class="k">:</span> <span class="kt">val</span> <span class="kt">s</span> <span class="o">=</span> <span class="n">findEvents</span> <span class="o">(</span> <span class="n">isAllDay</span> <span class="n">and</span> <span class="n">queryAt</span> <span class="o">(</span><span class="n">` this `</span><span class="o">[</span> <span class="kt">Interval</span> <span class="o">[</span> <span class="kt">Date</span> <span class="o">]]</span> <span class="n">and</span> <span class="n">isWeek</span> <span class="o">))</span>
</span></span><span class="line"><span class="cl"><span class="o">&lt;</span><span class="nc">EOS</span> <span class="o">&gt;</span>
</span></span><span class="line"><span class="cl"><span class="nc">Utterance</span> <span class="k">:</span> <span class="kt">Check</span> <span class="kt">my</span> <span class="kt">availability</span> <span class="kt">for</span> <span class="kt">next</span> <span class="kt">week</span>
</span></span><span class="line"><span class="cl"><span class="nc">Program</span> <span class="k">:</span> <span class="kt">val</span> <span class="kt">s</span> <span class="o">=</span> <span class="n">availabilityIncludingMe</span> <span class="o">(</span> <span class="n">createAt</span> <span class="o">(</span> <span class="n">next</span> <span class="o">[</span> <span class="kt">Interval</span> <span class="o">[</span> <span class="kt">Date</span> <span class="o">]]</span> <span class="n">and</span> <span class="n">isWeek</span> <span class="o">))</span>
</span></span><span class="line"><span class="cl"><span class="o">&lt;</span><span class="nc">EOS</span> <span class="o">&gt;</span>
</span></span><span class="line"><span class="cl"><span class="nc">Utterance</span> <span class="k">:</span> <span class="kt">Create</span> <span class="kt">a</span> <span class="kt">meeting</span> <span class="kt">with</span> <span class="kt">Jenn</span> <span class="kt">for</span> <span class="kt">next</span> <span class="kt">week</span>
</span></span><span class="line"><span class="cl"><span class="nc">Program</span> <span class="k">:</span> <span class="kt">val</span> <span class="kt">s</span> <span class="o">=</span> <span class="n">createEvent</span> <span class="o">(</span> <span class="n">with_</span> <span class="o">(</span><span class="s">" Jenn "</span><span class="o">)</span> <span class="n">and</span> <span class="n">createAt</span> <span class="o">(</span> <span class="n">next</span> <span class="o">[</span> <span class="kt">Interval</span> <span class="o">[</span> <span class="kt">Date</span> <span class="o">]]</span> <span class="n">and</span> <span class="n">isWeek</span> <span class="o">))</span>
</span></span><span class="line"><span class="cl"><span class="o">&lt;</span><span class="nc">EOS</span> <span class="o">&gt;</span>
</span></span><span class="line"><span class="cl"><span class="nc">Utterance</span> <span class="k">:</span> <span class="kt">Can</span> <span class="kt">you</span> <span class="kt">find</span> <span class="kt">the</span> <span class="kt">emails</span> <span class="kt">from</span> <span class="kt">Lisa</span> <span class="kt">from</span> <span class="kt">last</span> <span class="kt">week</span>
</span></span><span class="line"><span class="cl"><span class="nc">Program</span> <span class="k">:</span> <span class="kt">val</span> <span class="kt">s</span> <span class="o">=</span> <span class="n">findEmails</span> <span class="o">(</span> <span class="n">messageWithSender</span> <span class="o">(</span><span class="s">" Lisa "</span><span class="o">)</span> <span class="n">and</span> <span class="n">messageSentAt</span> <span class="o">(</span> <span class="n">last</span> <span class="o">[</span> <span class="kt">Interval</span> <span class="o">[</span> <span class="kt">Date</span> <span class="o">]]</span> <span class="n">and</span> <span class="n">isWeek</span> <span class="o">))</span>
</span></span><span class="line"><span class="cl"><span class="o">&lt;</span><span class="nc">EOS</span> <span class="o">&gt;</span>
</span></span><span class="line"><span class="cl"><span class="nc">Utterance</span> <span class="k">:</span> <span class="kt">Make</span> <span class="kt">me</span> <span class="kt">a</span> <span class="kt">meeting</span> <span class="kt">at</span> <span class="err">3</span> <span class="kt">pm</span> <span class="kt">mountain</span> <span class="kt">time</span> <span class="kt">and</span> <span class="kt">refuse</span> <span class="kt">any</span> <span class="kt">meetings</span> <span class="kt">that</span> <span class="kt">happen</span> <span class="kt">at</span> <span class="kt">the</span> <span class="kt">same</span> <span class="kt">time</span>
</span></span><span class="line"><span class="cl"><span class="nc">Step</span> <span class="mi">1</span><span class="k">:</span> <span class="kt">Grab</span> <span class="err">3</span> <span class="kt">pm</span> <span class="kt">mountain</span> <span class="kt">time</span>
</span></span><span class="line"><span class="cl"><span class="nc">Program</span> <span class="mi">1</span><span class="k">:</span> <span class="kt">val</span> <span class="kt">s1</span> <span class="o">=</span> <span class="mf">3.</span> <span class="n">pm</span> <span class="n">inZone</span> <span class="nc">TimeZone</span> <span class="o">(</span><span class="s">" MST "</span><span class="o">)</span>
</span></span><span class="line"><span class="cl"><span class="nc">Step</span> <span class="mi">2</span><span class="k">:</span> <span class="kt">Create</span> <span class="kt">an</span> <span class="kt">event</span> <span class="kt">using</span> <span class="kt">time</span> <span class="kt">and</span> <span class="kt">timezone</span> <span class="kt">s1</span>
</span></span><span class="line"><span class="cl"><span class="nc">Program</span> <span class="mi">2</span><span class="k">:</span> <span class="kt">val</span> <span class="kt">s2</span> <span class="o">=</span> <span class="n">createEvent</span> <span class="o">(</span> <span class="n">createAt</span> <span class="o">(</span> <span class="n">s1</span> <span class="o">))</span>
</span></span><span class="line"><span class="cl"><span class="nc">Step</span> <span class="mi">3</span><span class="k">:</span> <span class="kt">Find</span> <span class="kt">events</span> <span class="kt">using</span> <span class="kt">time</span> <span class="kt">and</span> <span class="kt">timezone</span> <span class="kt">s1</span>
</span></span><span class="line"><span class="cl"><span class="nc">Program</span> <span class="mi">3</span><span class="k">:</span> <span class="kt">val</span> <span class="kt">s3</span> <span class="o">=</span> <span class="n">findEvents</span> <span class="o">(</span> <span class="n">queryAt</span> <span class="o">(</span> <span class="n">s1</span> <span class="o">))</span>
</span></span><span class="line"><span class="cl"><span class="nc">Step</span> <span class="mi">4</span><span class="k">:</span> <span class="kt">Decline</span> <span class="kt">each</span> <span class="kt">event</span> <span class="kt">in</span> <span class="kt">list</span> <span class="kt">s3</span>
</span></span><span class="line"><span class="cl"><span class="nc">Program</span> <span class="mi">4</span><span class="k">:</span> <span class="kt">val</span> <span class="kt">s4</span> <span class="o">=</span> <span class="n">s3</span> <span class="o">.</span> <span class="n">map</span> <span class="o">(</span><span class="n">x</span> <span class="k">=</span> <span class="o">&gt;</span> <span class="n">respond</span> <span class="o">(</span><span class="n">x</span> <span class="o">,</span> <span class="n">withResponse</span> <span class="o">(</span> <span class="nc">ResponseStatusType</span> <span class="o">.</span> <span class="n">declined</span> <span class="o">)))</span>
</span></span><span class="line"><span class="cl"><span class="o">&lt;</span><span class="nc">EOS</span> <span class="o">&gt;</span>
</span></span><span class="line"><span class="cl"><span class="nc">Utterance</span> <span class="k">:</span> <span class="kt">Change</span> <span class="kt">my</span> <span class="kt">meetings</span> <span class="kt">with</span> <span class="kt">Abby</span> <span class="kt">and</span> <span class="kt">those</span> <span class="kt">with</span> <span class="kt">Dan</span> <span class="kt">this</span> <span class="kt">week</span> <span class="kt">to</span> <span class="kt">start</span> <span class="err">5</span> <span class="kt">minutes</span> <span class="kt">later</span>
</span></span><span class="line"><span class="cl"><span class="nc">Step</span> <span class="mi">1</span><span class="k">:</span> <span class="kt">Find</span> <span class="kt">events</span> <span class="kt">with</span> <span class="kt">Abby</span> <span class="kt">this</span> <span class="kt">week</span>
</span></span><span class="line"><span class="cl"><span class="nc">Program</span> <span class="mi">1</span><span class="k">:</span> <span class="kt">val</span> <span class="kt">s1</span> <span class="o">=</span> <span class="n">findEvents</span> <span class="o">(</span> <span class="n">with_</span> <span class="o">(</span><span class="s">" Abby "</span><span class="o">)</span> <span class="n">and</span> <span class="n">queryAt</span> <span class="o">(</span><span class="n">` this `</span><span class="o">[</span> <span class="kt">Interval</span> <span class="o">[</span> <span class="kt">Date</span> <span class="o">]]</span> <span class="n">and</span> <span class="n">isWeek</span> <span class="o">))</span>
</span></span><span class="line"><span class="cl"><span class="nc">Step</span> <span class="mi">2</span><span class="k">:</span> <span class="kt">Find</span> <span class="kt">events</span> <span class="kt">with</span> <span class="kt">Dan</span> <span class="kt">and</span> <span class="kt">without</span> <span class="kt">Abby</span> <span class="kt">this</span> <span class="kt">week</span>
</span></span><span class="line"><span class="cl"><span class="nc">Program</span> <span class="mi">2</span><span class="k">:</span> <span class="kt">val</span> <span class="kt">s2</span> <span class="o">=</span> <span class="n">findEvents</span> <span class="o">(</span> <span class="n">with_</span> <span class="o">(</span><span class="s">" Dan "</span><span class="o">)</span> <span class="n">and</span> <span class="n">not</span> <span class="o">(</span> <span class="n">with_</span> <span class="o">(</span><span class="s">" Abby "</span><span class="o">)</span> <span class="o">)</span> <span class="n">and</span> <span class="n">queryAt</span> <span class="o">(</span><span class="n">` this `</span><span class="o">[</span> <span class="kt">Interval</span> <span class="o">[</span> <span class="kt">Date</span> <span class="o">]]</span> <span class="n">and</span> <span class="n">isWeek</span> <span class="o">))</span>
</span></span><span class="line"><span class="cl"><span class="nc">Step</span> <span class="mi">3</span><span class="k">:</span> <span class="kt">Set</span> <span class="kt">all</span> <span class="kt">meetings</span> <span class="kt">from</span> <span class="kt">s1</span> <span class="kt">to</span> <span class="kt">start</span> <span class="err">5</span> <span class="kt">minutes</span> <span class="kt">later</span>
</span></span><span class="line"><span class="cl"><span class="nc">Program</span> <span class="mi">3</span><span class="k">:</span> <span class="kt">val</span> <span class="kt">s3</span> <span class="o">=</span> <span class="n">s1</span> <span class="o">.</span> <span class="n">map</span> <span class="o">(</span><span class="n">x</span> <span class="k">=</span> <span class="o">&gt;</span> <span class="n">modifyEvent</span> <span class="o">(</span><span class="n">x</span> <span class="o">,</span> <span class="n">startsAt</span> <span class="o">(</span><span class="n">x</span><span class="o">.</span> <span class="n">start</span> <span class="o">.</span> <span class="n">local</span> <span class="o">.</span> <span class="n">time</span> <span class="o">+</span> <span class="mf">5.</span> <span class="n">minutes</span> <span class="o">)))</span>
</span></span><span class="line"><span class="cl"><span class="nc">Step</span> <span class="mi">4</span><span class="k">:</span> <span class="kt">Set</span> <span class="kt">all</span> <span class="kt">meetings</span> <span class="kt">from</span> <span class="kt">s2</span> <span class="kt">to</span> <span class="kt">start</span> <span class="err">5</span> <span class="kt">minutes</span> <span class="kt">later</span>
</span></span><span class="line"><span class="cl"><span class="nc">Program</span> <span class="mi">4</span><span class="k">:</span> <span class="kt">val</span> <span class="kt">s4</span> <span class="o">=</span> <span class="n">s2</span> <span class="o">.</span> <span class="n">map</span> <span class="o">(</span><span class="n">x</span> <span class="k">=</span> <span class="o">&gt;</span> <span class="n">modifyEvent</span> <span class="o">(</span><span class="n">x</span> <span class="o">,</span> <span class="n">startsAt</span> <span class="o">(</span><span class="n">x</span><span class="o">.</span> <span class="n">start</span> <span class="o">.</span> <span class="n">local</span> <span class="o">.</span> <span class="n">time</span> <span class="o">+</span> <span class="mf">5.</span> <span class="n">minutes</span> <span class="o">)))</span>
</span></span><span class="line"><span class="cl"><span class="o">&lt;</span><span class="nc">EOS</span> <span class="o">&gt;</span>
</span></span><span class="line"><span class="cl"><span class="nc">Utterance</span> <span class="k">:</span> <span class="kt">Can</span> <span class="kt">you</span> <span class="kt">decline</span> <span class="kt">all</span> <span class="kt">the</span> <span class="kt">meetings</span> <span class="kt">where</span> <span class="kt">at</span> <span class="kt">least</span> <span class="kt">one</span> <span class="kt">attendee</span> <span class="kt">reports</span> <span class="kt">to</span> <span class="kt">Jeff</span> <span class="kt">.</span>
</span></span><span class="line"><span class="cl"><span class="kt">Step</span> <span class="err">1</span><span class="kt">:</span> <span class="kt">Grab</span> <span class="kt">Jeff</span> <span class="err">'</span><span class="kt">s</span> <span class="kt">reports</span>
</span></span><span class="line"><span class="cl"><span class="nc">Program</span> <span class="mi">1</span><span class="k">:</span> <span class="kt">val</span> <span class="kt">s1</span> <span class="o">=</span> <span class="n">thePerson</span> <span class="o">(</span><span class="s">" Jeff "</span><span class="o">).</span> <span class="n">directReports</span>
</span></span><span class="line"><span class="cl"><span class="nc">Step</span> <span class="mi">2</span><span class="k">:</span> <span class="kt">Decline</span> <span class="kt">all</span> <span class="kt">events</span> <span class="kt">in</span> <span class="kt">which</span> <span class="kt">each</span> <span class="kt">person</span> <span class="kt">in</span> <span class="kt">list</span> <span class="kt">s2</span> <span class="kt">is</span> <span class="kt">invited</span> <span class="kt">to</span>
</span></span><span class="line"><span class="cl"><span class="nc">Program</span> <span class="mi">2</span><span class="k">:</span> <span class="kt">val</span> <span class="kt">s2</span> <span class="o">=</span> <span class="n">s1</span> <span class="o">.</span> <span class="n">map</span> <span class="o">(</span><span class="n">x</span> <span class="k">=</span> <span class="o">&gt;</span> <span class="n">findEvents</span> <span class="o">(</span> <span class="n">with_</span> <span class="o">(</span><span class="n">x</span><span class="o">)).</span> <span class="n">map</span> <span class="o">(</span><span class="n">z</span> <span class="k">=</span> <span class="o">&gt;</span> <span class="n">respond</span> <span class="o">(</span><span class="n">z</span> <span class="o">,</span> <span class="n">withResponse</span> <span class="o">(</span> <span class="nc">ResponseStatusType</span> <span class="o">.</span> <span class="n">declined</span> <span class="o">))))</span>
</span></span><span class="line"><span class="cl"><span class="o">&lt;</span><span class="nc">EOS</span> <span class="o">&gt;</span>
</span></span><span class="line"><span class="cl"><span class="nc">Utterance</span> <span class="k">:</span> <span class="kt">Can</span> <span class="kt">you</span> <span class="kt">tell</span> <span class="kt">me</span> <span class="kt">how</span> <span class="kt">many</span> <span class="kt">emails</span> <span class="kt">I</span> <span class="kt">received</span> <span class="kt">on</span> <span class="kt">Monday</span> <span class="kt">?</span>
</span></span><span class="line"><span class="cl"><span class="nc">Step</span> <span class="mi">1</span><span class="k">:</span> <span class="kt">Query</span> <span class="kt">for</span> <span class="kt">how</span> <span class="kt">many</span> <span class="kt">emails</span> <span class="kt">were</span> <span class="kt">received</span> <span class="kt">on</span> <span class="kt">last</span> <span class="kt">Monday</span> <span class="kt">.</span>
</span></span><span class="line"><span class="cl"><span class="kt">Program</span> <span class="err">1</span><span class="kt">:</span> <span class="kt">val</span> <span class="kt">s1</span> <span class="o">=</span> <span class="n">findEmails</span> <span class="o">(</span> <span class="n">messageSentAt</span> <span class="o">(</span> <span class="n">last</span> <span class="o">[</span> <span class="kt">Date</span> <span class="o">]</span> <span class="o">/&amp;</span> <span class="nc">Monday</span> <span class="o">)).</span> <span class="n">size</span>
</span></span><span class="line"><span class="cl"><span class="o">&lt;</span><span class="nc">EOS</span> <span class="o">&gt;</span>
</span></span><span class="line"><span class="cl"><span class="nc">Utterance</span> <span class="k">:</span> <span class="kt">Do</span> <span class="kt">I</span> <span class="kt">have</span> <span class="kt">a</span> <span class="kt">meeting</span> <span class="kt">with</span> <span class="kt">Ben</span> <span class="kt">on</span> <span class="kt">Monday</span> <span class="kt">or</span> <span class="kt">with</span> <span class="kt">Charlie</span> <span class="kt">on</span> <span class="kt">Wednesday</span> <span class="kt">?</span>
</span></span><span class="line"><span class="cl"><span class="nc">Step</span> <span class="mi">1</span><span class="k">:</span> <span class="kt">Do</span> <span class="kt">I</span> <span class="kt">have</span> <span class="kt">a</span> <span class="kt">meeting</span> <span class="kt">with</span> <span class="kt">Ben</span> <span class="kt">on</span> <span class="kt">Monday</span> <span class="kt">or</span> <span class="kt">with</span> <span class="kt">Charlie</span> <span class="kt">on</span> <span class="kt">Wednesday</span> <span class="kt">.</span>
</span></span><span class="line"><span class="cl"><span class="kt">Program</span> <span class="err">1</span><span class="kt">:</span> <span class="kt">val</span> <span class="kt">s1</span> <span class="o">=</span> <span class="n">findEvents</span> <span class="o">(</span> <span class="n">with_</span> <span class="o">(</span><span class="s">" Ben "</span><span class="o">)</span> <span class="n">and</span> <span class="n">queryAt</span> <span class="o">(</span> <span class="nc">Monday</span> <span class="o">)).</span> <span class="n">nonEmpty</span> <span class="o">||</span> <span class="n">findEvents</span> <span class="o">(</span> <span class="n">queryAt</span> <span class="o">(</span> <span class="nc">Wednesday</span> <span class="o">)</span> <span class="n">and</span> <span class="n">with_</span> <span class="o">(</span><span class="s">" Charlie "</span><span class="o">)).</span> <span class="n">nonEmpty</span>
</span></span><span class="line"><span class="cl"><span class="o">&lt;</span><span class="nc">EOS</span> <span class="o">&gt;</span>
</span></span><span class="line"><span class="cl"><span class="nc">Utterance</span> <span class="k">:</span> <span class="kt">how</span> <span class="kt">long</span> <span class="kt">do</span> <span class="kt">i</span> <span class="kt">have</span> <span class="kt">before</span> <span class="kt">my</span> <span class="kt">next</span> <span class="kt">appointment</span> <span class="kt">?</span>
</span></span><span class="line"><span class="cl"><span class="nc">Step</span> <span class="mi">1</span><span class="k">:</span> <span class="kt">Describe</span> <span class="kt">duration</span> <span class="kt">of</span> <span class="kt">time</span> <span class="kt">from</span> <span class="kt">now</span> <span class="kt">until</span> <span class="kt">next</span> <span class="kt">Meeting</span>
</span></span><span class="line"><span class="cl"><span class="nc">Program</span> <span class="mi">1</span><span class="k">:</span> <span class="kt">val</span> <span class="kt">s1</span> <span class="o">=</span> <span class="n">durationFromNow</span> <span class="o">(</span> <span class="n">theEvent</span> <span class="o">(</span> <span class="n">next</span> <span class="o">[</span> <span class="kt">Event</span> <span class="o">])</span> <span class="o">.</span> <span class="n">start</span> <span class="o">)</span>
</span></span><span class="line"><span class="cl"><span class="o">&lt;</span><span class="nc">EOS</span> <span class="o">&gt;</span>
</span></span><span class="line"><span class="cl"><span class="nc">Utterance</span> <span class="k">:</span> <span class="kt">How</span> <span class="kt">many</span> <span class="err">1</span><span class="kt">/</span><span class="err">1</span> <span class="kt">meetings</span> <span class="kt">in</span> <span class="kt">total</span> <span class="kt">I</span> <span class="kt">had</span> <span class="kt">in</span> <span class="kt">the</span> <span class="kt">last</span> <span class="kt">week</span> <span class="kt">?</span>
</span></span><span class="line"><span class="cl"><span class="nc">Step</span> <span class="mi">1</span><span class="k">:</span> <span class="kt">Find</span> <span class="kt">all</span> <span class="kt">one</span> <span class="kt">on</span> <span class="kt">one</span> <span class="kt">events</span> <span class="kt">from</span> <span class="kt">last</span> <span class="kt">week</span>
</span></span><span class="line"><span class="cl"><span class="nc">Program</span> <span class="mi">1</span><span class="k">:</span> <span class="kt">val</span> <span class="kt">s1</span> <span class="o">=</span> <span class="n">findEvents</span> <span class="o">(</span> <span class="n">queryAt</span> <span class="o">(</span> <span class="n">last</span> <span class="o">[</span> <span class="kt">Interval</span> <span class="o">[</span> <span class="kt">Date</span> <span class="o">]]</span> <span class="n">and</span> <span class="n">isWeek</span> <span class="o">)</span> <span class="n">and</span> <span class="n">isOneOnOne</span> <span class="o">)</span>
</span></span><span class="line"><span class="cl"><span class="nc">Step</span> <span class="mi">2</span><span class="k">:</span> <span class="kt">Get</span> <span class="kt">the</span> <span class="kt">size</span> <span class="kt">of</span> <span class="kt">that</span> <span class="kt">list</span> <span class="kt">s1</span> <span class="kt">.</span>
</span></span><span class="line"><span class="cl"><span class="kt">Program</span> <span class="err">2</span><span class="kt">:</span> <span class="kt">val</span> <span class="kt">s2</span> <span class="o">=</span> <span class="n">s1</span> <span class="o">.</span> <span class="n">size</span>
</span></span><span class="line"><span class="cl"><span class="o">&lt;</span><span class="nc">EOS</span> <span class="o">&gt;</span>
</span></span><span class="line"><span class="cl"><span class="nc">Utterance</span> <span class="k">:</span> <span class="kt">If</span> <span class="kt">I</span> <span class="kt">have</span> <span class="kt">a</span> <span class="kt">meeting</span> <span class="kt">with</span> <span class="kt">Henry</span> <span class="kt">this</span> <span class="kt">week</span> <span class="o">,</span> <span class="n">change</span> <span class="n">it</span> <span class="n">to</span> <span class="n">be</span> <span class="k">with</span> <span class="nc">Nick</span>
</span></span><span class="line"><span class="cl"><span class="nc">Step</span> <span class="mi">1</span><span class="k">:</span> <span class="kt">Find</span> <span class="kt">meeting</span> <span class="kt">with</span> <span class="kt">Henry</span> <span class="kt">this</span> <span class="kt">week</span> <span class="kt">.</span>
</span></span><span class="line"><span class="cl"><span class="kt">Program</span> <span class="err">1</span><span class="kt">:</span> <span class="kt">val</span> <span class="kt">s1</span> <span class="o">=</span> <span class="n">theEvent</span> <span class="o">(</span> <span class="n">with_</span> <span class="o">(</span><span class="s">" Henry "</span><span class="o">)</span> <span class="n">and</span> <span class="n">queryAt</span> <span class="o">(</span><span class="n">` this `</span><span class="o">[</span> <span class="kt">Interval</span> <span class="o">[</span> <span class="kt">Date</span> <span class="o">]]</span> <span class="n">and</span> <span class="n">isWeek</span> <span class="o">))</span>
</span></span><span class="line"><span class="cl"><span class="nc">Step</span> <span class="mi">2</span><span class="k">:</span> <span class="kt">Update</span> <span class="kt">s1</span> <span class="kt">to</span> <span class="kt">replace</span> <span class="kt">Henry</span> <span class="kt">with</span> <span class="kt">Nick</span> <span class="o">,</span> <span class="n">otherwise</span> <span class="k">do</span> <span class="n">nothing</span>
</span></span><span class="line"><span class="cl"><span class="nc">Program</span> <span class="mi">2</span><span class="k">:</span> <span class="kt">val</span> <span class="kt">s2</span> <span class="o">=</span> <span class="n">modifyEvent</span> <span class="o">(</span><span class="n">s1</span> <span class="o">,</span> <span class="n">with_</span> <span class="o">(</span><span class="s">" Nick "</span><span class="o">)</span> <span class="n">and</span> <span class="n">not</span> <span class="o">(</span> <span class="n">with_</span> <span class="o">(</span><span class="s">" Henry "</span><span class="o">)))</span>
</span></span><span class="line"><span class="cl"><span class="o">&lt;</span><span class="nc">EOS</span> <span class="o">&gt;</span>
</span></span><span class="line"><span class="cl"><span class="nc">Utterance</span> <span class="k">:</span> <span class="kt">I</span> <span class="kt">need</span> <span class="kt">to</span> <span class="kt">swap</span> <span class="kt">the</span> <span class="kt">calls</span> <span class="kt">that</span> <span class="kt">are</span> <span class="kt">on</span> <span class="kt">Monday</span> <span class="kt">and</span> <span class="kt">Tuesday</span> <span class="kt">.</span>
</span></span><span class="line"><span class="cl"><span class="kt">Step</span> <span class="err">1</span><span class="kt">:</span> <span class="kt">Find</span> <span class="kt">all</span> <span class="kt">meetings</span> <span class="kt">on</span> <span class="kt">Monday</span> <span class="kt">.</span>
</span></span><span class="line"><span class="cl"><span class="kt">Program</span> <span class="err">1</span><span class="kt">:</span> <span class="kt">val</span> <span class="kt">s1</span> <span class="o">=</span> <span class="n">findEvents</span> <span class="o">(</span> <span class="n">queryAt</span> <span class="o">(</span> <span class="nc">Monday</span> <span class="o">)).</span> <span class="n">head</span>
</span></span><span class="line"><span class="cl"><span class="nc">Step</span> <span class="mi">2</span><span class="k">:</span> <span class="kt">Find</span> <span class="kt">all</span> <span class="kt">meetings</span> <span class="kt">on</span> <span class="kt">Tuesday</span> <span class="kt">.</span>
</span></span><span class="line"><span class="cl"><span class="kt">Program</span> <span class="err">2</span><span class="kt">:</span> <span class="kt">val</span> <span class="kt">s2</span> <span class="o">=</span> <span class="n">findEvents</span> <span class="o">(</span> <span class="n">queryAt</span> <span class="o">(</span> <span class="nc">Tuesday</span> <span class="o">)).</span> <span class="n">head</span>
</span></span><span class="line"><span class="cl"><span class="nc">Step</span> <span class="mi">3</span><span class="k">:</span> <span class="kt">Swap</span> <span class="kt">the</span> <span class="kt">date</span> <span class="kt">for</span> <span class="kt">all</span> <span class="kt">meetings</span> <span class="kt">found</span> <span class="kt">in</span> <span class="kt">s1</span> <span class="kt">with</span> <span class="kt">Tuesday</span> <span class="kt">.</span>
</span></span><span class="line"><span class="cl"><span class="kt">Program</span> <span class="err">3</span><span class="kt">:</span> <span class="kt">val</span> <span class="kt">s3</span> <span class="o">=</span> <span class="n">modifyEvent</span> <span class="o">(</span><span class="n">s1</span> <span class="o">,</span> <span class="n">startsAt</span> <span class="o">(</span> <span class="nc">Tuesday</span> <span class="o">))</span>
</span></span><span class="line"><span class="cl"><span class="nc">Step</span> <span class="mi">4</span><span class="k">:</span> <span class="kt">Swap</span> <span class="kt">the</span> <span class="kt">start</span> <span class="kt">date</span> <span class="kt">for</span> <span class="kt">all</span> <span class="kt">meetings</span> <span class="kt">found</span> <span class="kt">in</span> <span class="kt">s2</span> <span class="kt">with</span> <span class="kt">Monday</span> <span class="kt">.</span>
</span></span><span class="line"><span class="cl"><span class="kt">Program</span> <span class="err">4</span><span class="kt">:</span> <span class="kt">val</span> <span class="kt">s4</span> <span class="o">=</span> <span class="n">modifyEvent</span> <span class="o">(</span><span class="n">s2</span> <span class="o">,</span> <span class="n">startsAt</span> <span class="o">(</span> <span class="nc">Monday</span> <span class="o">))</span>
</span></span><span class="line"><span class="cl"><span class="o">&lt;</span><span class="nc">EOS</span> <span class="o">&gt;</span>
</span></span><span class="line"><span class="cl"><span class="nc">Utterance</span> <span class="k">:</span> <span class="kt">Change</span> <span class="kt">the</span> <span class="kt">duration</span> <span class="kt">of</span> <span class="kt">the</span> <span class="kt">team</span> <span class="kt">sync</span> <span class="kt">call</span> <span class="kt">today</span> <span class="kt">to</span> <span class="kt">two</span> <span class="kt">hours</span> <span class="o">,</span> <span class="n">and</span> <span class="n">schedule</span> <span class="n">an</span> <span class="n">event</span> <span class="k">with</span> <span class="n">identical</span> <span class="n">title</span> <span class="mi">10</span> <span class="n">days</span> <span class="n">from</span> <span class="n">now</span> <span class="o">.</span>
</span></span><span class="line"><span class="cl"><span class="nc">Step</span> <span class="mi">1</span><span class="k">:</span> <span class="kt">Change</span> <span class="kt">the</span> <span class="kt">duration</span> <span class="kt">of</span> <span class="kt">the</span> <span class="kt">team</span> <span class="kt">sync</span> <span class="kt">call</span> <span class="kt">today</span> <span class="kt">to</span> <span class="err">2</span> <span class="kt">hours</span>
</span></span><span class="line"><span class="cl"><span class="nc">Program</span> <span class="mi">1</span><span class="k">:</span> <span class="kt">val</span> <span class="kt">s1</span> <span class="o">=</span> <span class="n">modifyEvent</span> <span class="o">(</span> <span class="n">theEvent</span> <span class="o">(</span> <span class="n">called</span> <span class="o">(</span><span class="s">" team sync call "</span><span class="o">)</span> <span class="n">and</span> <span class="n">queryAt</span> <span class="o">(</span> <span class="n">today</span> <span class="o">))</span> <span class="o">,</span> <span class="n">lastsFor</span> <span class="o">(</span><span class="mf">2.</span> <span class="n">hours</span> <span class="o">))</span>
</span></span><span class="line"><span class="cl"><span class="nc">Step</span> <span class="mi">2</span><span class="k">:</span> <span class="kt">create</span> <span class="kt">an</span> <span class="kt">event</span> <span class="kt">with</span> <span class="kt">the</span> <span class="kt">same</span> <span class="kt">title</span> <span class="kt">as</span> <span class="kt">s1</span> <span class="err">10</span> <span class="kt">days</span> <span class="kt">from</span> <span class="kt">now</span>
</span></span><span class="line"><span class="cl"><span class="nc">Program</span> <span class="mi">2</span><span class="k">:</span> <span class="kt">val</span> <span class="kt">s2</span> <span class="o">=</span> <span class="n">createEvent</span> <span class="o">(</span> <span class="n">createAt</span> <span class="o">(</span> <span class="n">today</span> <span class="o">+</span> <span class="mf">10.</span> <span class="n">days</span> <span class="o">)</span> <span class="n">and</span> <span class="n">called</span> <span class="o">(</span><span class="s">" team sync call "</span><span class="o">))</span>
</span></span><span class="line"><span class="cl"><span class="o">&lt;</span><span class="nc">EOS</span> <span class="o">&gt;</span>
</span></span><span class="line"><span class="cl"><span class="nc">Utterance</span> <span class="k">:</span> <span class="kt">Check</span> <span class="kt">the</span> <span class="kt">upcoming</span> <span class="kt">meetings</span> <span class="kt">to</span> <span class="kt">find</span> <span class="kt">out</span> <span class="kt">any</span> <span class="kt">conflicts</span> <span class="kt">with</span> <span class="kt">vacation</span> <span class="kt">next</span> <span class="kt">week</span>
</span></span><span class="line"><span class="cl"><span class="nc">Step</span> <span class="mi">1</span><span class="k">:</span> <span class="kt">Find</span> <span class="kt">all</span> <span class="kt">meetings</span> <span class="kt">next</span> <span class="kt">week</span>
</span></span><span class="line"><span class="cl"><span class="nc">Program</span> <span class="mi">1</span><span class="k">:</span> <span class="kt">val</span> <span class="kt">s1</span> <span class="o">=</span> <span class="n">findEvents</span> <span class="o">(</span> <span class="n">queryAt</span> <span class="o">(</span> <span class="n">next</span> <span class="o">[</span> <span class="kt">Interval</span> <span class="o">[</span> <span class="kt">Date</span> <span class="o">]]</span> <span class="n">and</span> <span class="n">isWeek</span> <span class="o">))</span>
</span></span><span class="line"><span class="cl"><span class="nc">Step</span> <span class="mi">2</span><span class="k">:</span> <span class="kt">Find</span> <span class="kt">vacation</span> <span class="kt">next</span> <span class="kt">week</span>
</span></span></code></pre></td></tr></table>
</div>
</div>
</div>
</main>
<footer class="footer">
<span>© 2024 <a href="https://sino-huang.github.io/">Sukai Huang</a></span> · 

    <span>
        Powered by
        <a href="https://gohugo.io/" rel="noopener noreferrer" target="_blank">Hugo</a> &amp;
        <a href="https://github.com/adityatelange/hugo-PaperMod/" rel="noopener" target="_blank">PaperMod</a>
</span>
</footer>
<a accesskey="g" aria-label="go to top" class="top-link" href="#top" id="top-link" title="Go to Top (Alt + G)">
<svg fill="currentColor" viewbox="0 0 12 6" xmlns="http://www.w3.org/2000/svg">
<path d="M12 6H0l6-6z"></path>
</svg>
</a>
<script>
    let menu = document.getElementById('menu')
    if (menu) {
        menu.scrollLeft = localStorage.getItem("menu-scroll-position");
        menu.onscroll = function () {
            localStorage.setItem("menu-scroll-position", menu.scrollLeft);
        }
    }

    document.querySelectorAll('a[href^="#"]').forEach(anchor => {
        anchor.addEventListener("click", function (e) {
            e.preventDefault();
            var id = this.getAttribute("href").substr(1);
            if (!window.matchMedia('(prefers-reduced-motion: reduce)').matches) {
                document.querySelector(`[id='${decodeURIComponent(id)}']`).scrollIntoView({
                    behavior: "smooth"
                });
            } else {
                document.querySelector(`[id='${decodeURIComponent(id)}']`).scrollIntoView();
            }
            if (id === "top") {
                history.replaceState(null, null, " ");
            } else {
                history.pushState(null, null, `#${id}`);
            }
        });
    });

</script>
<script>
    var mybutton = document.getElementById("top-link");
    window.onscroll = function () {
        if (document.body.scrollTop > 800 || document.documentElement.scrollTop > 800) {
            mybutton.style.visibility = "visible";
            mybutton.style.opacity = "1";
        } else {
            mybutton.style.visibility = "hidden";
            mybutton.style.opacity = "0";
        }
    };

</script>
<script>
    document.getElementById("theme-toggle").addEventListener("click", () => {
        if (document.body.className.includes("dark")) {
            document.body.classList.remove('dark');
            localStorage.setItem("pref-theme", 'light');
        } else {
            document.body.classList.add('dark');
            localStorage.setItem("pref-theme", 'dark');
        }
    })

</script>
</body>
</html>
